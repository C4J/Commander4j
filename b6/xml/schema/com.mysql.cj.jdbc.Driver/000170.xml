<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE DDL SYSTEM "schema.dtd">
<DDL>

    <statement>
		CREATE OR REPLACE ALGORITHM = UNDEFINED SQL SECURITY DEFINER VIEW  `view_qm_results` AS SELECT
			`APP_QM_SAMPLE`.`PROCESS_ORDER` AS `PROCESS_ORDER`,
			`APP_QM_SAMPLE`.`MATERIAL` AS `MATERIAL`,
			`APP_QM_SAMPLE`.`SAMPLE_ID` AS `SAMPLE_ID`,
			`APP_QM_SAMPLE`.`SAMPLE_DATE` AS `SAMPLE_DATE`,
			`APP_QM_SAMPLE`.`USER_DATA_1` AS `USER_DATA_1`,
			`APP_QM_SAMPLE`.`USER_DATA_2` AS `USER_DATA_2`,
			`APP_QM_SAMPLE`.`USER_DATA_3` AS `USER_DATA_3`,
			`APP_QM_SAMPLE`.`USER_DATA_4` AS `USER_DATA_4`,
			`APP_QM_RESULT`.`TEST_ID` AS `TEST_ID`,
			`APP_QM_DICTIONARY`.`DESCRIPTION` AS `DESCRIPTION`,
			`APP_QM_RESULT`.`VALUE` AS `VALUE`,
			COALESCE ( `APP_QM_SELECTLIST`.`DESCRIPTION`, `APP_QM_RESULT`.`VALUE` ) AS `RESULT` 
		FROM
			(((
						`APP_QM_SAMPLE`
						LEFT JOIN `APP_QM_RESULT` ON ((
								`APP_QM_SAMPLE`.`SAMPLE_ID` = `APP_QM_RESULT`.`SAMPLE_ID` 
							)))
					LEFT JOIN `APP_QM_DICTIONARY` ON ((
							`APP_QM_RESULT`.`TEST_ID` = `APP_QM_DICTIONARY`.`TEST_ID` 
						)))
				LEFT JOIN `APP_QM_SELECTLIST` ON ((
					`APP_QM_DICTIONARY`.`SELECT_LIST_ID` = `APP_QM_SELECTLIST`.`SELECT_LIST_ID` 
			)));
    </statement>

</DDL>
