<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE DDL SYSTEM "schema.dtd">
<DDL>
	
	   <statement>        
			CREATE VIEW [dbo].[view_sorting_data] AS (SELECT
				APP_PALLET_EXTENSION.SSCC AS SSCC,
				APP_PALLET_EXTENSION.SHIFT_ID AS SHIFT_ID,
				APP_PALLET_EXTENSION.SUPPLIER_ID1 AS SUPPLIER_ID1,
				APP_PALLET_EXTENSION.INCIDENT_REFERENCE AS INCIDENT_REFERENCE,
				APP_PALLET_EXTENSION.FIRST_CASE_TIME AS FIRST_CASE_TIME,
				APP_PALLET_EXTENSION.LAST_CASE_TIME AS LAST_CASE_TIME,
				APP_PALLET.LOCATION_ID AS LOCATION_ID,
				APP_PALLET.BATCH_NUMBER AS BATCH_NUMBER,
				APP_PALLET.MHN_NUMBER AS MHN_NUMBER,
				APP_PALLET.DESPATCH_NO AS DESPATCH_NO,
				APP_PALLET_EXTENSION.LOCATION AS LOCATION,
				APP_PALLET_EXTENSION.PRODUCT_GROUP AS PRODUCT_GROUP,
				APP_PALLET_EXTENSION.CONTAINER_CODE AS CONTAINER_CODE,
				APP_PALLET_EXTENSION.PALLET_QUANTITY AS PALLET_QUANTITY,
				APP_PALLET_SAMPLES.SAMPLE_DATE AS SAMPLE_DATE,
				APP_PALLET_SAMPLES.SAMPLE_REASON AS SAMPLE_REASON,
				APP_PALLET_SAMPLES.DEFECT_TYPE AS DEFECT_TYPE,
				APP_PALLET_SAMPLES.DEFECT_ID AS DEFECT_ID,
				APP_PALLET_SAMPLES.LEAKING AS LEAKING,
				APP_PALLET_SAMPLES.SAMPLE_COMMENT AS SAMPLE_COMMENT,
				APP_PALLET_SAMPLES.SAMPLE_QUANTITY AS SAMPLE_QUANTITY,
				APP_PALLET_SAMPLES.SAMPLE_POINT AS SAMPLE_POINT,
				APP_PALLET.MATERIAL AS MATERIAL,
				APP_MATERIAL.DESCRIPTION AS MATERIAL_DESCRIPTION,
				APP_PALLET.QUANTITY AS QUANTITY,
				APP_PALLET.UOM AS UOM,
				APP_PALLET.DATE_OF_MANUFACTURE AS DATE_OF_MANUFACTURE,
				APP_PALLET.STATUS AS STATUS,
				APP_MATERIAL_BATCH.STATUS AS BATCH_STATUS,
				APP_SAMPLE_DEFECT_TYPE.DESCRIPTION AS DEFECT_DESCRIPTION,
				APP_SAMPLE_DEFECT_TYPE.LONG_DESCRIPTION AS LONG_DESCRIPTION,
				APP_SAMPLE_REASONS.DESCRIPTION AS REASON_DESCRIPTION 
			FROM
				APP_PALLET_SAMPLES
				LEFT JOIN APP_SAMPLE_DEFECT_ID ON ( APP_PALLET_SAMPLES.DEFECT_ID = APP_SAMPLE_DEFECT_ID.DEFECT_ID )
				LEFT JOIN APP_SAMPLE_DEFECT_TYPE ON ( APP_PALLET_SAMPLES.DEFECT_TYPE = APP_SAMPLE_DEFECT_TYPE.DEFECT_TYPE )
				LEFT JOIN APP_SAMPLE_REASONS ON ( APP_PALLET_SAMPLES.SAMPLE_REASON = APP_SAMPLE_REASONS.SAMPLE_REASON )
				LEFT JOIN APP_PALLET_EXTENSION ON ( APP_PALLET_EXTENSION.SSCC = APP_PALLET_SAMPLES.SSCC )
				LEFT JOIN APP_PALLET ON ( APP_PALLET_EXTENSION.SSCC = APP_PALLET.SSCC )
				LEFT JOIN APP_MATERIAL_BATCH ON ( APP_PALLET.MATERIAL = APP_MATERIAL_BATCH.MATERIAL ) 
				AND ( APP_PALLET.BATCH_NUMBER = APP_MATERIAL_BATCH.BATCH_NUMBER )
				LEFT JOIN APP_MATERIAL ON (APP_PALLET.MATERIAL = APP_MATERIAL.MATERIAL))
    </statement>
    
     <statement>   
		INSERT INTO SYS_LANGUAGE (RESOURCE_KEY, LANGUAGE_ID, TEXT, MNEMONIC) VALUES ('btn_Notify', 'EN', 'Notify', '0')
    </statement>
    
	<statement>
		INSERT INTO SYS_LANGUAGE (RESOURCE_KEY, LANGUAGE_ID, TEXT, MNEMONIC) VALUES ('btn_Notify', 'DE', 'Benachrichtigen', '0')
	</statement>
	
	<statement>
		INSERT INTO SYS_LANGUAGE (RESOURCE_KEY, LANGUAGE_ID, TEXT, MNEMONIC) VALUES ('btn_Notify', 'FR', 'Notifier', '0')
	</statement>
	
	<statement>
		INSERT INTO SYS_LANGUAGE (RESOURCE_KEY, LANGUAGE_ID, TEXT, MNEMONIC) VALUES ('btn_Notify', 'NL', 'Melden', '0')
	</statement>
	
	<statement>
		INSERT INTO SYS_LANGUAGE (RESOURCE_KEY, LANGUAGE_ID, TEXT, MNEMONIC) VALUES ('btn_Notify', 'ES', 'Notificar', '0')
	</statement>
	
	<statement>
		INSERT INTO SYS_LANGUAGE (RESOURCE_KEY, LANGUAGE_ID, TEXT, MNEMONIC) VALUES ('btn_Notify', 'PL', 'Notyfikować', '0')
	</statement>
	
	<statement>
		INSERT INTO SYS_LANGUAGE (RESOURCE_KEY, LANGUAGE_ID, TEXT, MNEMONIC) VALUES ('btn_Notify', 'HU', 'Értesítés', '0')
	</statement>
	
    <statement>
		INSERT INTO SYS_LANGUAGE (RESOURCE_KEY, LANGUAGE_ID, TEXT, MNEMONIC) VALUES ('btn_Notify', 'IT', 'Notificare', '0')
	</statement>   
	
	<statement>
		INSERT INTO SYS_MODULES (MODULE_ID,RF_ACTIVE,DK_ACTIVE,MODULE_TYPE,HINT,MNEMONIC,ICON_FILENAME,HELPSET_ID,REPORT_FILENAME,EXEC_FILENAME,EXEC_DIR,PRINT_PREVIEW,PRINT_DIALOG,PRINT_COPIES,REPORT_TYPE,RESOURCE_KEY) VALUES
		('RPT_NOTIFY_SORTING', 'N', 'Y', 'REPORT', 'Pallet Sorting Notification', '0', '', '', 'sorting_notification.jrxml', '', '', 'Y', 'N', '1', 'Standard', '')
	</statement>
    
    <statement>          
		INSERT INTO  SYS_GROUP_PERMISSIONS (GROUP_ID, MODULE_ID) VALUES ('ADMIN', 'RPT_NOTIFY_SORTING')
    </statement> 
			
</DDL>
