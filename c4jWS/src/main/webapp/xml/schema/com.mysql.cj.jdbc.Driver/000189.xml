<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE DDL SYSTEM "schema.dtd">
<DDL>

	<statement>
		CREATE VIEW `view_weight_samples3` AS SELECT
			APP_WEIGHT_SAMPLE_DETAIL.SAMPLE_POINT,
			APP_WEIGHT_SAMPLE_DETAIL.SAMPLE_DATE,
			CAST( `APP_WEIGHT_SAMPLE_HEADER`.`SAMPLE_DATE` AS DATE ) AS `SAMPLE_DATE_SHORT`,
			APP_WEIGHT_SAMPLE_DETAIL.SAMPLE_SEQUENCE,
			APP_WEIGHT_SAMPLE_DETAIL.SAMPLE_WEIGHT_DATE,
			APP_WEIGHT_SAMPLE_DETAIL.SAMPLE_GROSS_WEIGHT,
			APP_WEIGHT_SAMPLE_DETAIL.SAMPLE_WEIGHT_UOM,
			APP_WEIGHT_SAMPLE_HEADER.TARE_WEIGHT,
			APP_WEIGHT_SAMPLE_DETAIL.SAMPLE_GROSS_WEIGHT - APP_WEIGHT_SAMPLE_HEADER.TARE_WEIGHT AS NET,
			APP_WEIGHT_SAMPLE_HEADER.NOMINAL_WEIGHT,
			APP_WEIGHT_SAMPLE_HEADER.NOMINAL_WEIGHT_UOM,
			APP_WEIGHT_SAMPLE_DETAIL.SAMPLE_T1_COUNT,
			APP_WEIGHT_SAMPLE_DETAIL.SAMPLE_T2_COUNT,
			APP_WEIGHT_SAMPLE_HEADER.PROCESS_ORDER,
			APP_WEIGHT_SAMPLE_HEADER.MATERIAL,
			APP_WEIGHT_SAMPLE_HEADER.PRODUCT_GROUP,
			APP_WEIGHT_SAMPLE_HEADER.CONTAINER_CODE
		FROM
			APP_WEIGHT_SAMPLE_DETAIL 
		LEFT JOIN APP_WEIGHT_SAMPLE_HEADER 
			ON  (APP_WEIGHT_SAMPLE_HEADER.SAMPLE_POINT = APP_WEIGHT_SAMPLE_DETAIL.SAMPLE_POINT)
			AND (APP_WEIGHT_SAMPLE_HEADER.SAMPLE_DATE = APP_WEIGHT_SAMPLE_DETAIL.SAMPLE_DATE)
	</statement>
	
	<statement>
       INSERT INTO SYS_MODULES(MODULE_ID, RF_ACTIVE, DK_ACTIVE, MODULE_TYPE, HINT, MNEMONIC, ICON_FILENAME, HELPSET_ID, REPORT_FILENAME, EXEC_FILENAME, EXEC_DIR, PRINT_PREVIEW, PRINT_DIALOG, PRINT_COPIES, REPORT_TYPE, RESOURCE_KEY, AUTO_LABELLER_COMMAND_FILE, AUTO_LABELLER_LABEL_FILE) VALUES ('RPT_WT_SD_MEAN', 'N', 'Y', 'REPORT', 'Weight SD Mean', 0, '', '', 'weight_summary_sd_mean.jrxml', '', '', 'Y', 'N', 1, 'Standard', 'mod_FRM_WEIGHT_REPORTS', '', '')
    </statement>

</DDL>