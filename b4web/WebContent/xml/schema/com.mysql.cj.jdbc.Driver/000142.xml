<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE DDL SYSTEM "schema.dtd">
<DDL>

   <statement>
   	   DROP VIEW `view_weight_samples`
    </statement>
 
	<statement>
		CREATE VIEW `view_weight_samples` AS SELECT
		APP_WEIGHT_SAMPLE_HEADER.SAMPLE_POINT,
		APP_WEIGHT_SAMPLE_HEADER.SAMPLE_DATE,
		CAST( APP_WEIGHT_SAMPLE_HEADER.SAMPLE_DATE AS date ) AS SAMPLE_DATE_SHORT,
		APP_WEIGHT_SAMPLE_HEADER.USER_ID,
		APP_WEIGHT_SAMPLE_HEADER.WORKSTATION_ID,
		APP_WEIGHT_SAMPLE_HEADER.SCALE_ID,
		APP_WEIGHT_SAMPLE_HEADER.PROCESS_ORDER,
		APP_WEIGHT_SAMPLE_HEADER.REQUIRED_RESOURCE,
		APP_WEIGHT_SAMPLE_HEADER.CUSTOMER_ID,
		APP_WEIGHT_SAMPLE_HEADER.MATERIAL,
		APP_WEIGHT_SAMPLE_HEADER.PRODUCT_GROUP,
		APP_WEIGHT_SAMPLE_HEADER.CONTAINER_CODE,
		APP_WEIGHT_SAMPLE_HEADER.TARE_WEIGHT,
		APP_WEIGHT_SAMPLE_HEADER.TARE_WEIGHT_UOM,
		APP_WEIGHT_SAMPLE_HEADER.NOMINAL_WEIGHT,
		APP_WEIGHT_SAMPLE_HEADER.NOMINAL_WEIGHT_UOM,
		APP_WEIGHT_SAMPLE_HEADER.TNE,
		APP_WEIGHT_SAMPLE_HEADER.NEG_T1,
		APP_WEIGHT_SAMPLE_HEADER.NEG_T2,
		APP_WEIGHT_SAMPLE_HEADER.SAMPLE_SIZE,
		APP_WEIGHT_SAMPLE_HEADER.SAMPLE_COUNT,
		APP_WEIGHT_SAMPLE_HEADER.SAMPLE_MEAN,
		APP_WEIGHT_SAMPLE_HEADER.SAMPLE_STD_DEV,
		APP_WEIGHT_SAMPLE_HEADER.SAMPLE_T1_COUNT,
		APP_WEIGHT_SAMPLE_HEADER.SAMPLE_T2_COUNT,
		APP_WEIGHT_SAMPLE_DETAIL.SAMPLE_SEQUENCE,
		APP_WEIGHT_SAMPLE_DETAIL.SAMPLE_WEIGHT_DATE,
		APP_WEIGHT_SAMPLE_DETAIL.SAMPLE_GROSS_WEIGHT,
		APP_WEIGHT_SAMPLE_DETAIL.SAMPLE_NET_WEIGHT,
		APP_WEIGHT_SAMPLE_DETAIL.SAMPLE_TARE_WEIGHT,
		APP_WEIGHT_SAMPLE_DETAIL.SAMPLE_WEIGHT_UOM,
		APP_WEIGHT_SAMPLE_DETAIL.SAMPLE_T1_COUNT AS SAMPLE_T1_COUNT_0,
		APP_WEIGHT_SAMPLE_DETAIL.SAMPLE_T2_COUNT AS SAMPLE_T2_COUNT_0 
		FROM
			APP_WEIGHT_SAMPLE_DETAIL
			JOIN APP_WEIGHT_SAMPLE_HEADER ON APP_WEIGHT_SAMPLE_DETAIL.SAMPLE_POINT = APP_WEIGHT_SAMPLE_HEADER.SAMPLE_POINT 
			AND APP_WEIGHT_SAMPLE_DETAIL.SAMPLE_DATE = APP_WEIGHT_SAMPLE_HEADER.SAMPLE_DATE
	</statement>
	
	<statement>
       INSERT INTO SYS_MODULES(MODULE_ID, RF_ACTIVE, DK_ACTIVE, MODULE_TYPE, HINT, MNEMONIC, ICON_FILENAME, HELPSET_ID, REPORT_FILENAME, EXEC_FILENAME, EXEC_DIR, PRINT_PREVIEW, PRINT_DIALOG, PRINT_COPIES, REPORT_TYPE, RESOURCE_KEY, AUTO_LABELLER_COMMAND_FILE, AUTO_LABELLER_LABEL_FILE) VALUES ('RPT_WT_QUICKREF1', 'N', 'Y', 'REPORT', 'Weight Summary', 0, '', '', 'weights_quickref1.jrxml', '', '', 'Y', 'N', 1, 'Standard', 'mod_FRM_WEIGHT_REPORTS', '', '')
    </statement>

	<statement>
       INSERT INTO SYS_MODULES(MODULE_ID, RF_ACTIVE, DK_ACTIVE, MODULE_TYPE, HINT, MNEMONIC, ICON_FILENAME, HELPSET_ID, REPORT_FILENAME, EXEC_FILENAME, EXEC_DIR, PRINT_PREVIEW, PRINT_DIALOG, PRINT_COPIES, REPORT_TYPE, RESOURCE_KEY, AUTO_LABELLER_COMMAND_FILE, AUTO_LABELLER_LABEL_FILE) VALUES ('RPT_WT_QUICKREF2', 'N', 'Y', 'REPORT', 'Weight Summary', 0, '', '', 'weights_quickref2.jrxml', '', '', 'Y', 'N', 1, 'Standard', 'mod_FRM_WEIGHT_REPORTS', '', '')
    </statement>
    
    <statement>
       INSERT INTO SYS_MODULES(MODULE_ID, RF_ACTIVE, DK_ACTIVE, MODULE_TYPE, HINT, MNEMONIC, ICON_FILENAME, HELPSET_ID, REPORT_FILENAME, EXEC_FILENAME, EXEC_DIR, PRINT_PREVIEW, PRINT_DIALOG, PRINT_COPIES, REPORT_TYPE, RESOURCE_KEY, AUTO_LABELLER_COMMAND_FILE, AUTO_LABELLER_LABEL_FILE) VALUES ('RPT_WT_QUICKREF3', 'N', 'Y', 'REPORT', 'Weight Summary', 0, '', '', 'weights_quickref3.jrxml', '', '', 'Y', 'N', 1, 'Standard', 'mod_FRM_WEIGHT_REPORTS', '', '')
    </statement>
    		     
</DDL>
