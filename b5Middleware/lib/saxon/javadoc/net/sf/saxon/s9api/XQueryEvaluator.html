<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (1.8.0_171) on Wed Aug 26 14:53:14 BST 2020 -->
<title>XQueryEvaluator</title>
<meta name="date" content="2020-08-26">
<link rel="stylesheet" type="text/css" href="../../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="XQueryEvaluator";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":10,"i1":10,"i2":10,"i3":10,"i4":10,"i5":10,"i6":10,"i7":10,"i8":10,"i9":10,"i10":10,"i11":10,"i12":10,"i13":10,"i14":10,"i15":10,"i16":10,"i17":10,"i18":10,"i19":10,"i20":10,"i21":10,"i22":10,"i23":10,"i24":10,"i25":10,"i26":10,"i27":10};
var tabs = {65535:["t0","All Methods"],2:["t2","Instance Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../net/sf/saxon/s9api/XQueryCompiler.html" title="class in net.sf.saxon.s9api"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../../net/sf/saxon/s9api/XQueryExecutable.html" title="class in net.sf.saxon.s9api"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?net/sf/saxon/s9api/XQueryEvaluator.html" target="_top">Frames</a></li>
<li><a href="XQueryEvaluator.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#fields.inherited.from.class.net.sf.saxon.s9api.AbstractDestination">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">net.sf.saxon.s9api</div>
<h2 title="Class XQueryEvaluator" class="title">Class XQueryEvaluator</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li><a href="../../../../net/sf/saxon/s9api/AbstractDestination.html" title="class in net.sf.saxon.s9api">net.sf.saxon.s9api.AbstractDestination</a></li>
<li>
<ul class="inheritance">
<li>net.sf.saxon.s9api.XQueryEvaluator</li>
</ul>
</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>All Implemented Interfaces:</dt>
<dd>java.lang.Iterable&lt;<a href="../../../../net/sf/saxon/s9api/XdmItem.html" title="class in net.sf.saxon.s9api">XdmItem</a>&gt;, <a href="../../../../net/sf/saxon/s9api/Destination.html" title="interface in net.sf.saxon.s9api">Destination</a></dd>
</dl>
<hr>
<br>
<pre>public class <span class="typeNameLabel">XQueryEvaluator</span>
extends <a href="../../../../net/sf/saxon/s9api/AbstractDestination.html" title="class in net.sf.saxon.s9api">AbstractDestination</a>
implements java.lang.Iterable&lt;<a href="../../../../net/sf/saxon/s9api/XdmItem.html" title="class in net.sf.saxon.s9api">XdmItem</a>&gt;</pre>
<div class="block">An <code>XQueryEvaluator</code> represents a compiled and loaded query ready for execution.
 The <code>XQueryEvaluator</code> holds details of the dynamic evaluation context for the query.
 <p>An <code>XQueryEvaluator</code> must not be used concurrently in multiple threads.
 It is safe, however, to reuse the object within a single thread to run the same
 query several times. Running the query does not change the context
 that has been established.</p>
 <p>An <code>XQueryEvaluator</code> is always constructed by running the <code>Load</code>
 method of an <a href="../../../../net/sf/saxon/s9api/XQueryExecutable.html" title="class in net.sf.saxon.s9api"><code>XQueryExecutable</code></a>.</p>
 <p>An <code>XQueryEvaluator</code> is itself a <code>Iterable</code>. This makes it possible to
 evaluate the results in a for-each expression.</p>
 <p>An <code>XQueryEvaluator</code> is itself a <code>Destination</code>. This means it is possible to use
 one <code>XQueryEvaluator</code> as the destination to receive the results of another transformation,
 this providing a simple way for transformations to be chained into a pipeline. When the query is executed
 this way, <a href="../../../../net/sf/saxon/s9api/XQueryEvaluator.html#setDestination-net.sf.saxon.s9api.Destination-"><code>setDestination(Destination)</code></a> must be called to provide a destination for the result of this query.</p>
 <p>As a <code>Destination</code>, an <code>XQueryEvaluator</code> performs <b>sequence normalization</b> as defined
 in the Serialization specification, including inserting item separators if required. The input to the
 query (the global context item) will therefore always be a single document node. This will always be built
 as a tree in memory, it will never be streamed.</p></div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- =========== FIELD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<ul class="blockList">
<li class="blockList"><a name="fields.inherited.from.class.net.sf.saxon.s9api.AbstractDestination">
<!--   -->
</a>
<h3>Fields inherited from class&nbsp;net.sf.saxon.s9api.<a href="../../../../net/sf/saxon/s9api/AbstractDestination.html" title="class in net.sf.saxon.s9api">AbstractDestination</a></h3>
<code><a href="../../../../net/sf/saxon/s9api/AbstractDestination.html#helper">helper</a></code></li>
</ul>
</li>
</ul>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier</th>
<th class="colLast" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected </code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../net/sf/saxon/s9api/XQueryEvaluator.html#XQueryEvaluator-net.sf.saxon.s9api.Processor-net.sf.saxon.query.XQueryExpression-">XQueryEvaluator</a></span>(<a href="../../../../net/sf/saxon/s9api/Processor.html" title="class in net.sf.saxon.s9api">Processor</a>&nbsp;processor,
               <a href="../../../../net/sf/saxon/query/XQueryExpression.html" title="class in net.sf.saxon.query">XQueryExpression</a>&nbsp;expression)</code>
<div class="block">Protected constructor</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code><a href="../../../../net/sf/saxon/s9api/XdmValue.html" title="class in net.sf.saxon.s9api">XdmValue</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../net/sf/saxon/s9api/XQueryEvaluator.html#callFunction-net.sf.saxon.s9api.QName-net.sf.saxon.s9api.XdmValue:A-">callFunction</a></span>(<a href="../../../../net/sf/saxon/s9api/QName.html" title="class in net.sf.saxon.s9api">QName</a>&nbsp;function,
            <a href="../../../../net/sf/saxon/s9api/XdmValue.html" title="class in net.sf.saxon.s9api">XdmValue</a>[]&nbsp;arguments)</code>
<div class="block">Call a global user-defined function in the compiled query.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../net/sf/saxon/s9api/XQueryEvaluator.html#close--">close</a></span>()</code>
<div class="block">Close this destination, allowing resources to be released.</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code><a href="../../../../net/sf/saxon/s9api/XdmValue.html" title="class in net.sf.saxon.s9api">XdmValue</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../net/sf/saxon/s9api/XQueryEvaluator.html#evaluate--">evaluate</a></span>()</code>
<div class="block">Perform the query, returning the results as an XdmValue.</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code><a href="../../../../net/sf/saxon/s9api/XdmItem.html" title="class in net.sf.saxon.s9api">XdmItem</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../net/sf/saxon/s9api/XQueryEvaluator.html#evaluateSingle--">evaluateSingle</a></span>()</code>
<div class="block">Evaluate the XQuery expression, returning the result as an <code>XdmItem</code> (that is,
 a single node or atomic value).</div>
</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code><a href="../../../../net/sf/saxon/s9api/XdmItem.html" title="class in net.sf.saxon.s9api">XdmItem</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../net/sf/saxon/s9api/XQueryEvaluator.html#getContextItem--">getContextItem</a></span>()</code>
<div class="block">Get the initial context item for the query, if one has been set</div>
</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code>javax.xml.transform.ErrorListener</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../net/sf/saxon/s9api/XQueryEvaluator.html#getErrorListener--">getErrorListener</a></span>()</code>
<div class="block">Get the error listener.</div>
</td>
</tr>
<tr id="i6" class="altColor">
<td class="colFirst"><code><a href="../../../../net/sf/saxon/s9api/XdmValue.html" title="class in net.sf.saxon.s9api">XdmValue</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../net/sf/saxon/s9api/XQueryEvaluator.html#getExternalVariable-net.sf.saxon.s9api.QName-">getExternalVariable</a></span>(<a href="../../../../net/sf/saxon/s9api/QName.html" title="class in net.sf.saxon.s9api">QName</a>&nbsp;name)</code>
<div class="block">Get the value that has been set for an external variable</div>
</td>
</tr>
<tr id="i7" class="rowColor">
<td class="colFirst"><code><a href="../../../../net/sf/saxon/event/Receiver.html" title="interface in net.sf.saxon.event">Receiver</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../net/sf/saxon/s9api/XQueryEvaluator.html#getReceiver-net.sf.saxon.event.PipelineConfiguration-net.sf.saxon.serialize.SerializationProperties-">getReceiver</a></span>(<a href="../../../../net/sf/saxon/event/PipelineConfiguration.html" title="class in net.sf.saxon.event">PipelineConfiguration</a>&nbsp;pipe,
           <a href="../../../../net/sf/saxon/serialize/SerializationProperties.html" title="class in net.sf.saxon.serialize">SerializationProperties</a>&nbsp;params)</code>
<div class="block">Return a Receiver which can be used to supply the principal source document for the transformation.</div>
</td>
</tr>
<tr id="i8" class="altColor">
<td class="colFirst"><code><a href="../../../../net/sf/saxon/s9api/ValidationMode.html" title="enum in net.sf.saxon.s9api">ValidationMode</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../net/sf/saxon/s9api/XQueryEvaluator.html#getSchemaValidationMode--">getSchemaValidationMode</a></span>()</code>
<div class="block">Get the schema validation mode for the transformation.</div>
</td>
</tr>
<tr id="i9" class="rowColor">
<td class="colFirst"><code><a href="../../../../net/sf/saxon/lib/Logger.html" title="class in net.sf.saxon.lib">Logger</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../net/sf/saxon/s9api/XQueryEvaluator.html#getTraceFunctionDestination--">getTraceFunctionDestination</a></span>()</code>
<div class="block">Get the destination for output from the fn:trace() function.</div>
</td>
</tr>
<tr id="i10" class="altColor">
<td class="colFirst"><code><a href="../../../../net/sf/saxon/lib/TraceListener.html" title="interface in net.sf.saxon.lib">TraceListener</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../net/sf/saxon/s9api/XQueryEvaluator.html#getTraceListener--">getTraceListener</a></span>()</code>
<div class="block">Get the registered TraceListener, if any</div>
</td>
</tr>
<tr id="i11" class="rowColor">
<td class="colFirst"><code><a href="../../../../net/sf/saxon/query/DynamicQueryContext.html" title="class in net.sf.saxon.query">DynamicQueryContext</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../net/sf/saxon/s9api/XQueryEvaluator.html#getUnderlyingQueryContext--">getUnderlyingQueryContext</a></span>()</code>
<div class="block">Get the underlying dynamic context object.</div>
</td>
</tr>
<tr id="i12" class="altColor">
<td class="colFirst"><code>java.util.Iterator&lt;<a href="../../../../net/sf/saxon/s9api/XdmNode.html" title="class in net.sf.saxon.s9api">XdmNode</a>&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../net/sf/saxon/s9api/XQueryEvaluator.html#getUpdatedDocuments--">getUpdatedDocuments</a></span>()</code>
<div class="block">After executing an updating query using the <a href="../../../../net/sf/saxon/s9api/XQueryEvaluator.html#run--"><code>run()</code></a> method, iterate over the root
 nodes of the documents updated by the query.</div>
</td>
</tr>
<tr id="i13" class="rowColor">
<td class="colFirst"><code>javax.xml.transform.URIResolver</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../net/sf/saxon/s9api/XQueryEvaluator.html#getURIResolver--">getURIResolver</a></span>()</code>
<div class="block">Get the URI resolver.</div>
</td>
</tr>
<tr id="i14" class="altColor">
<td class="colFirst"><code><a href="../../../../net/sf/saxon/s9api/XdmSequenceIterator.html" title="class in net.sf.saxon.s9api">XdmSequenceIterator</a>&lt;<a href="../../../../net/sf/saxon/s9api/XdmItem.html" title="class in net.sf.saxon.s9api">XdmItem</a>&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../net/sf/saxon/s9api/XQueryEvaluator.html#iterator--">iterator</a></span>()</code>
<div class="block">Evaluate the query, and return an iterator over its results.</div>
</td>
</tr>
<tr id="i15" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../net/sf/saxon/s9api/XQueryEvaluator.html#run--">run</a></span>()</code>
<div class="block">Perform the query.</div>
</td>
</tr>
<tr id="i16" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../net/sf/saxon/s9api/XQueryEvaluator.html#run-net.sf.saxon.s9api.Destination-">run</a></span>(<a href="../../../../net/sf/saxon/s9api/Destination.html" title="interface in net.sf.saxon.s9api">Destination</a>&nbsp;destination)</code>
<div class="block">Perform the query, sending the results to a specified destination.</div>
</td>
</tr>
<tr id="i17" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../net/sf/saxon/s9api/XQueryEvaluator.html#runStreamed-javax.xml.transform.Source-net.sf.saxon.s9api.Destination-">runStreamed</a></span>(javax.xml.transform.Source&nbsp;source,
           <a href="../../../../net/sf/saxon/s9api/Destination.html" title="interface in net.sf.saxon.s9api">Destination</a>&nbsp;destination)</code>
<div class="block">Perform the query in streaming mode, sending the results to a specified destination.</div>
</td>
</tr>
<tr id="i18" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../net/sf/saxon/s9api/XQueryEvaluator.html#setContextItem-net.sf.saxon.s9api.XdmItem-">setContextItem</a></span>(<a href="../../../../net/sf/saxon/s9api/XdmItem.html" title="class in net.sf.saxon.s9api">XdmItem</a>&nbsp;item)</code>
<div class="block">Set the initial context item for the query</div>
</td>
</tr>
<tr id="i19" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../net/sf/saxon/s9api/XQueryEvaluator.html#setDestination-net.sf.saxon.s9api.Destination-">setDestination</a></span>(<a href="../../../../net/sf/saxon/s9api/Destination.html" title="interface in net.sf.saxon.s9api">Destination</a>&nbsp;destination)</code>
<div class="block">Set the destination to be used for the query results</div>
</td>
</tr>
<tr id="i20" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../net/sf/saxon/s9api/XQueryEvaluator.html#setErrorListener-javax.xml.transform.ErrorListener-">setErrorListener</a></span>(javax.xml.transform.ErrorListener&nbsp;listener)</code>
<div class="block">Set the error listener.</div>
</td>
</tr>
<tr id="i21" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../net/sf/saxon/s9api/XQueryEvaluator.html#setExternalVariable-net.sf.saxon.s9api.QName-net.sf.saxon.s9api.XdmValue-">setExternalVariable</a></span>(<a href="../../../../net/sf/saxon/s9api/QName.html" title="class in net.sf.saxon.s9api">QName</a>&nbsp;name,
                   <a href="../../../../net/sf/saxon/s9api/XdmValue.html" title="class in net.sf.saxon.s9api">XdmValue</a>&nbsp;value)</code>
<div class="block">Set the value of external variable defined in the query</div>
</td>
</tr>
<tr id="i22" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../net/sf/saxon/s9api/XQueryEvaluator.html#setSchemaValidationMode-net.sf.saxon.s9api.ValidationMode-">setSchemaValidationMode</a></span>(<a href="../../../../net/sf/saxon/s9api/ValidationMode.html" title="enum in net.sf.saxon.s9api">ValidationMode</a>&nbsp;mode)</code>
<div class="block">Set the schema validation mode for the transformation.</div>
</td>
</tr>
<tr id="i23" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../net/sf/saxon/s9api/XQueryEvaluator.html#setSource-javax.xml.transform.Source-">setSource</a></span>(javax.xml.transform.Source&nbsp;source)</code>
<div class="block">Set the source document for the query.</div>
</td>
</tr>
<tr id="i24" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../net/sf/saxon/s9api/XQueryEvaluator.html#setTraceFunctionDestination-net.sf.saxon.lib.Logger-">setTraceFunctionDestination</a></span>(<a href="../../../../net/sf/saxon/lib/Logger.html" title="class in net.sf.saxon.lib">Logger</a>&nbsp;stream)</code>
<div class="block">Set the destination for output from the fn:trace() function.</div>
</td>
</tr>
<tr id="i25" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../net/sf/saxon/s9api/XQueryEvaluator.html#setTraceListener-net.sf.saxon.lib.TraceListener-">setTraceListener</a></span>(<a href="../../../../net/sf/saxon/lib/TraceListener.html" title="interface in net.sf.saxon.lib">TraceListener</a>&nbsp;listener)</code>
<div class="block">Set a TraceListener which will receive messages relating to the evaluation of all expressions.</div>
</td>
</tr>
<tr id="i26" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../net/sf/saxon/s9api/XQueryEvaluator.html#setURIResolver-javax.xml.transform.URIResolver-">setURIResolver</a></span>(javax.xml.transform.URIResolver&nbsp;resolver)</code>
<div class="block">Set an object that will be used to resolve URIs used in
 fn:doc() and related functions.</div>
</td>
</tr>
<tr id="i27" class="rowColor">
<td class="colFirst"><code><a href="../../../../net/sf/saxon/s9api/streams/XdmStream.html" title="class in net.sf.saxon.s9api.streams">XdmStream</a>&lt;<a href="../../../../net/sf/saxon/s9api/XdmItem.html" title="class in net.sf.saxon.s9api">XdmItem</a>&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../net/sf/saxon/s9api/XQueryEvaluator.html#stream--">stream</a></span>()</code>
<div class="block">Evaluate the query, returning the result as an <code>Stream</code>.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.net.sf.saxon.s9api.AbstractDestination">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;net.sf.saxon.s9api.<a href="../../../../net/sf/saxon/s9api/AbstractDestination.html" title="class in net.sf.saxon.s9api">AbstractDestination</a></h3>
<code><a href="../../../../net/sf/saxon/s9api/AbstractDestination.html#closeAndNotify--">closeAndNotify</a>, <a href="../../../../net/sf/saxon/s9api/AbstractDestination.html#getDestinationBaseURI--">getDestinationBaseURI</a>, <a href="../../../../net/sf/saxon/s9api/AbstractDestination.html#onClose-net.sf.saxon.s9api.Action-">onClose</a>, <a href="../../../../net/sf/saxon/s9api/AbstractDestination.html#setDestinationBaseURI-java.net.URI-">setDestinationBaseURI</a></code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.java.lang.Iterable">
<!--   -->
</a>
<h3>Methods inherited from interface&nbsp;java.lang.Iterable</h3>
<code>forEach, spliterator</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="XQueryEvaluator-net.sf.saxon.s9api.Processor-net.sf.saxon.query.XQueryExpression-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>XQueryEvaluator</h4>
<pre>protected&nbsp;XQueryEvaluator(<a href="../../../../net/sf/saxon/s9api/Processor.html" title="class in net.sf.saxon.s9api">Processor</a>&nbsp;processor,
                          <a href="../../../../net/sf/saxon/query/XQueryExpression.html" title="class in net.sf.saxon.query">XQueryExpression</a>&nbsp;expression)</pre>
<div class="block">Protected constructor</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>processor</code> - the Saxon processor</dd>
<dd><code>expression</code> - the XQuery expression</dd>
</dl>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="setSchemaValidationMode-net.sf.saxon.s9api.ValidationMode-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setSchemaValidationMode</h4>
<pre>public&nbsp;void&nbsp;setSchemaValidationMode(<a href="../../../../net/sf/saxon/s9api/ValidationMode.html" title="enum in net.sf.saxon.s9api">ValidationMode</a>&nbsp;mode)</pre>
<div class="block">Set the schema validation mode for the transformation. This indicates how source documents
 loaded specifically for this transformation will be handled. This applies to the
 principal source document if supplied as a SAXSource or StreamSource, and to all
 documents loaded during the transformation using the <code>doc()</code>, <code>document()</code>,
 or <code>collection()</code> functions.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>mode</code> - the validation mode. Passing null causes no change to the existing value.
             Passing <code>Validation.DEFAULT</code> resets to the initial value, which determines
             the validation requirements from the Saxon Configuration.</dd>
</dl>
</li>
</ul>
<a name="getSchemaValidationMode--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getSchemaValidationMode</h4>
<pre>public&nbsp;<a href="../../../../net/sf/saxon/s9api/ValidationMode.html" title="enum in net.sf.saxon.s9api">ValidationMode</a>&nbsp;getSchemaValidationMode()</pre>
<div class="block">Get the schema validation mode for the transformation. This indicates how source documents
 loaded specifically for this transformation will be handled. This applies to the
 principal source document if supplied as a SAXSource or StreamSource, and to all
 documents loaded during the transformation using the <code>doc()</code>, <code>document()</code>,
 or <code>collection()</code> functions.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the validation mode.</dd>
</dl>
</li>
</ul>
<a name="setSource-javax.xml.transform.Source-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setSource</h4>
<pre>public&nbsp;void&nbsp;setSource(javax.xml.transform.Source&nbsp;source)
               throws <a href="../../../../net/sf/saxon/s9api/SaxonApiException.html" title="class in net.sf.saxon.s9api">SaxonApiException</a></pre>
<div class="block">Set the source document for the query.
 <p>If the source is an instance of <a href="../../../../net/sf/saxon/om/NodeInfo.html" title="interface in net.sf.saxon.om"><code>NodeInfo</code></a>, the supplied node is used
 directly as the context node of the query.</p>
 <p>If the source is an instance of <code>DOMSource</code>, the DOM node identified
 by the DOMSource is wrapped as a Saxon node, and this is then used as the context item</p>
 <p>In all other cases a new Saxon tree is built, by calling
 <a href="../../../../net/sf/saxon/s9api/DocumentBuilder.html#build-javax.xml.transform.Source-"><code>DocumentBuilder.build(javax.xml.transform.Source)</code></a>, and the document
 node of this tree is then used as the context item for the query.</p></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>source</code> - the source document to act as the initial context item for the query.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../net/sf/saxon/s9api/SaxonApiException.html" title="class in net.sf.saxon.s9api">SaxonApiException</a></code></dd>
</dl>
</li>
</ul>
<a name="setContextItem-net.sf.saxon.s9api.XdmItem-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setContextItem</h4>
<pre>public&nbsp;void&nbsp;setContextItem(<a href="../../../../net/sf/saxon/s9api/XdmItem.html" title="class in net.sf.saxon.s9api">XdmItem</a>&nbsp;item)
                    throws <a href="../../../../net/sf/saxon/s9api/SaxonApiException.html" title="class in net.sf.saxon.s9api">SaxonApiException</a></pre>
<div class="block">Set the initial context item for the query</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>item</code> - the initial context item, or null if there is to be no initial context item</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../net/sf/saxon/s9api/SaxonApiException.html" title="class in net.sf.saxon.s9api">SaxonApiException</a></code> - if the query declares the context item and does not define
 it to be external</dd>
</dl>
</li>
</ul>
<a name="getContextItem--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getContextItem</h4>
<pre>public&nbsp;<a href="../../../../net/sf/saxon/s9api/XdmItem.html" title="class in net.sf.saxon.s9api">XdmItem</a>&nbsp;getContextItem()</pre>
<div class="block">Get the initial context item for the query, if one has been set</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the initial context item, or null if none has been set. This will not necessarily
         be the same object as was supplied, but it will be an XdmItem object that represents
         the same underlying node or atomic value.</dd>
</dl>
</li>
</ul>
<a name="setExternalVariable-net.sf.saxon.s9api.QName-net.sf.saxon.s9api.XdmValue-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setExternalVariable</h4>
<pre>public&nbsp;void&nbsp;setExternalVariable(<a href="../../../../net/sf/saxon/s9api/QName.html" title="class in net.sf.saxon.s9api">QName</a>&nbsp;name,
                                <a href="../../../../net/sf/saxon/s9api/XdmValue.html" title="class in net.sf.saxon.s9api">XdmValue</a>&nbsp;value)</pre>
<div class="block">Set the value of external variable defined in the query</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>name</code> - the name of the external variable, as a QName</dd>
<dd><code>value</code> - the value of the external variable, or null to clear a previously set value</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../net/sf/saxon/s9api/SaxonApiUncheckedException.html" title="class in net.sf.saxon.s9api">SaxonApiUncheckedException</a></code> - if the value is evaluated lazily, and evaluation fails</dd>
</dl>
</li>
</ul>
<a name="getExternalVariable-net.sf.saxon.s9api.QName-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getExternalVariable</h4>
<pre>public&nbsp;<a href="../../../../net/sf/saxon/s9api/XdmValue.html" title="class in net.sf.saxon.s9api">XdmValue</a>&nbsp;getExternalVariable(<a href="../../../../net/sf/saxon/s9api/QName.html" title="class in net.sf.saxon.s9api">QName</a>&nbsp;name)</pre>
<div class="block">Get the value that has been set for an external variable</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>name</code> - the name of the external variable whose value is required</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the value that has been set for the external variable, or null if no value has been set</dd>
</dl>
</li>
</ul>
<a name="setURIResolver-javax.xml.transform.URIResolver-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setURIResolver</h4>
<pre>public&nbsp;void&nbsp;setURIResolver(javax.xml.transform.URIResolver&nbsp;resolver)</pre>
<div class="block">Set an object that will be used to resolve URIs used in
 fn:doc() and related functions.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>resolver</code> - An object that implements the URIResolver interface, or
                 null.</dd>
</dl>
</li>
</ul>
<a name="getURIResolver--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getURIResolver</h4>
<pre>public&nbsp;javax.xml.transform.URIResolver&nbsp;getURIResolver()</pre>
<div class="block">Get the URI resolver.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the user-supplied URI resolver if there is one, or the
         system-defined one otherwise</dd>
</dl>
</li>
</ul>
<a name="setErrorListener-javax.xml.transform.ErrorListener-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setErrorListener</h4>
<pre>public&nbsp;void&nbsp;setErrorListener(javax.xml.transform.ErrorListener&nbsp;listener)</pre>
<div class="block">Set the error listener. The error listener receives reports of all run-time
 errors and can decide how to report them.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>listener</code> - the ErrorListener to be used</dd>
</dl>
</li>
</ul>
<a name="getErrorListener--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getErrorListener</h4>
<pre>public&nbsp;javax.xml.transform.ErrorListener&nbsp;getErrorListener()</pre>
<div class="block">Get the error listener.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the ErrorListener in use</dd>
</dl>
</li>
</ul>
<a name="setTraceListener-net.sf.saxon.lib.TraceListener-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setTraceListener</h4>
<pre>public&nbsp;void&nbsp;setTraceListener(<a href="../../../../net/sf/saxon/lib/TraceListener.html" title="interface in net.sf.saxon.lib">TraceListener</a>&nbsp;listener)</pre>
<div class="block">Set a TraceListener which will receive messages relating to the evaluation of all expressions.
 This option has no effect unless the query was compiled to enable tracing.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>listener</code> - the TraceListener to use</dd>
</dl>
</li>
</ul>
<a name="getTraceListener--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getTraceListener</h4>
<pre>public&nbsp;<a href="../../../../net/sf/saxon/lib/TraceListener.html" title="interface in net.sf.saxon.lib">TraceListener</a>&nbsp;getTraceListener()</pre>
<div class="block">Get the registered TraceListener, if any</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>listener the TraceListener in use, or null if none has been set</dd>
</dl>
</li>
</ul>
<a name="setTraceFunctionDestination-net.sf.saxon.lib.Logger-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setTraceFunctionDestination</h4>
<pre>public&nbsp;void&nbsp;setTraceFunctionDestination(<a href="../../../../net/sf/saxon/lib/Logger.html" title="class in net.sf.saxon.lib">Logger</a>&nbsp;stream)</pre>
<div class="block">Set the destination for output from the fn:trace() function.
 By default, the destination is System.err. If a TraceListener is in use,
 this is ignored, and the trace() output is sent to the TraceListener.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>stream</code> - the PrintStream to which trace output will be sent. If set to
               null, trace output is suppressed entirely. It is the caller's responsibility
               to close the stream after use.</dd>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>9.1. Changed in 9.6 to use a Logger</dd>
</dl>
</li>
</ul>
<a name="getTraceFunctionDestination--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getTraceFunctionDestination</h4>
<pre>public&nbsp;<a href="../../../../net/sf/saxon/lib/Logger.html" title="class in net.sf.saxon.lib">Logger</a>&nbsp;getTraceFunctionDestination()</pre>
<div class="block">Get the destination for output from the fn:trace() function.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the PrintStream to which trace output will be sent. If no explicitly
         destination has been set, returns System.err. If the destination has been set
         to null to suppress trace output, returns null.</dd>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>9.1. Changed in 9.6 to use a Logger</dd>
</dl>
</li>
</ul>
<a name="setDestination-net.sf.saxon.s9api.Destination-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setDestination</h4>
<pre>public&nbsp;void&nbsp;setDestination(<a href="../../../../net/sf/saxon/s9api/Destination.html" title="interface in net.sf.saxon.s9api">Destination</a>&nbsp;destination)</pre>
<div class="block">Set the destination to be used for the query results</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>destination</code> - the destination to which the results of the query will be sent</dd>
</dl>
</li>
</ul>
<a name="run--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>run</h4>
<pre>public&nbsp;void&nbsp;run()
         throws <a href="../../../../net/sf/saxon/s9api/SaxonApiException.html" title="class in net.sf.saxon.s9api">SaxonApiException</a></pre>
<div class="block">Perform the query.
 <ul><li>In the case of a non-updating query, the results are sent to the
 registered Destination.</li>
 <li>In the case of an updating query, all updated documents will be available after query
 execution as the result of the <a href="../../../../net/sf/saxon/s9api/XQueryEvaluator.html#getUpdatedDocuments--"><code>getUpdatedDocuments()</code></a> method.</li>
 </ul></div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../net/sf/saxon/s9api/SaxonApiException.html" title="class in net.sf.saxon.s9api">SaxonApiException</a></code> - if any dynamic error occurs during the query</dd>
<dd><code>java.lang.IllegalStateException</code> - if this is a non-updating query and no Destination has been
                               supplied for the query results</dd>
</dl>
</li>
</ul>
<a name="run-net.sf.saxon.s9api.Destination-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>run</h4>
<pre>public&nbsp;void&nbsp;run(<a href="../../../../net/sf/saxon/s9api/Destination.html" title="interface in net.sf.saxon.s9api">Destination</a>&nbsp;destination)
         throws <a href="../../../../net/sf/saxon/s9api/SaxonApiException.html" title="class in net.sf.saxon.s9api">SaxonApiException</a></pre>
<div class="block">Perform the query, sending the results to a specified destination.
 <p>This method must not be used with an updating query.</p>
 <p>This method is designed for use with a query that produces a single node (typically
 a document node or element node) as its result. If the query produces multiple nodes,
 the effect depends on the kind of destination. For example, if the result is an
 <code>XdmDestination</code>, only the last of the nodes will be accessible.</p></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>destination</code> - The destination where the result document will be sent</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../net/sf/saxon/s9api/SaxonApiException.html" title="class in net.sf.saxon.s9api">SaxonApiException</a></code> - if any dynamic error occurs during the query</dd>
<dd><code>java.lang.IllegalStateException</code> - if this is an updating query</dd>
</dl>
</li>
</ul>
<a name="runStreamed-javax.xml.transform.Source-net.sf.saxon.s9api.Destination-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>runStreamed</h4>
<pre>public&nbsp;void&nbsp;runStreamed(javax.xml.transform.Source&nbsp;source,
                        <a href="../../../../net/sf/saxon/s9api/Destination.html" title="interface in net.sf.saxon.s9api">Destination</a>&nbsp;destination)
                 throws <a href="../../../../net/sf/saxon/s9api/SaxonApiException.html" title="class in net.sf.saxon.s9api">SaxonApiException</a></pre>
<div class="block">Perform the query in streaming mode, sending the results to a specified destination.
 <p>This method must not be used with an updating query.</p>
 <p>This method is designed for use with a query that produces a single node (typically
 a document node or element node) as its result. If the query produces multiple nodes,
 the effect depends on the kind of destination. For example, if the result is an
 <code>XdmDestination</code>, only the last of the nodes will be accessible.</p></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>source</code> - the input stream whose document node will act as the initial context item.
 Should be a SAXSource or StreamSource</dd>
<dd><code>destination</code> - The destination where the result document will be sent</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../net/sf/saxon/s9api/SaxonApiException.html" title="class in net.sf.saxon.s9api">SaxonApiException</a></code> - if any dynamic error occurs during the query</dd>
<dd><code>java.lang.IllegalStateException</code> - if this is an updating query</dd>
</dl>
</li>
</ul>
<a name="evaluate--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>evaluate</h4>
<pre>public&nbsp;<a href="../../../../net/sf/saxon/s9api/XdmValue.html" title="class in net.sf.saxon.s9api">XdmValue</a>&nbsp;evaluate()
                  throws <a href="../../../../net/sf/saxon/s9api/SaxonApiException.html" title="class in net.sf.saxon.s9api">SaxonApiException</a></pre>
<div class="block">Perform the query, returning the results as an XdmValue. This method
 must not be used with an updating query</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>an XdmValue representing the results of the query</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../net/sf/saxon/s9api/SaxonApiException.html" title="class in net.sf.saxon.s9api">SaxonApiException</a></code> - if the query fails with a dynamic error</dd>
<dd><code>java.lang.IllegalStateException</code> - if this is an updating query</dd>
</dl>
</li>
</ul>
<a name="evaluateSingle--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>evaluateSingle</h4>
<pre>public&nbsp;<a href="../../../../net/sf/saxon/s9api/XdmItem.html" title="class in net.sf.saxon.s9api">XdmItem</a>&nbsp;evaluateSingle()
                       throws <a href="../../../../net/sf/saxon/s9api/SaxonApiException.html" title="class in net.sf.saxon.s9api">SaxonApiException</a></pre>
<div class="block">Evaluate the XQuery expression, returning the result as an <code>XdmItem</code> (that is,
 a single node or atomic value).</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>an <code>XdmItem</code> representing the result of the query, or null if the query
         returns an empty sequence. If the expression returns a sequence of more than one item,
         any items after the first are ignored.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../net/sf/saxon/s9api/SaxonApiException.html" title="class in net.sf.saxon.s9api">SaxonApiException</a></code> - if a dynamic error occurs during the query evaluation.</dd>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>9.2</dd>
</dl>
</li>
</ul>
<a name="iterator--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>iterator</h4>
<pre>public&nbsp;<a href="../../../../net/sf/saxon/s9api/XdmSequenceIterator.html" title="class in net.sf.saxon.s9api">XdmSequenceIterator</a>&lt;<a href="../../../../net/sf/saxon/s9api/XdmItem.html" title="class in net.sf.saxon.s9api">XdmItem</a>&gt;&nbsp;iterator()
                                      throws <a href="../../../../net/sf/saxon/s9api/SaxonApiUncheckedException.html" title="class in net.sf.saxon.s9api">SaxonApiUncheckedException</a></pre>
<div class="block">Evaluate the query, and return an iterator over its results.
 <p>This method must not be used with an updating query.</p></div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code>iterator</code>&nbsp;in interface&nbsp;<code>java.lang.Iterable&lt;<a href="../../../../net/sf/saxon/s9api/XdmItem.html" title="class in net.sf.saxon.s9api">XdmItem</a>&gt;</code></dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>an Iterator&lt;XdmItem&gt;. The XdmSequenceIterator class is a standard Java Iterator with an additional close()
 method, which should be called to release resources if the client does not intend to read any more items
 from the iterator.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../net/sf/saxon/s9api/SaxonApiUncheckedException.html" title="class in net.sf.saxon.s9api">SaxonApiUncheckedException</a></code> - if a dynamic error is detected while constructing the iterator.
                                    It is also possible for an SaxonApiUncheckedException to be thrown by the hasNext() method of the
                                    returned iterator if a dynamic error occurs while evaluating the result sequence.</dd>
<dd><code>java.lang.IllegalStateException</code> - if this is an updating query</dd>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>9.5.1.5. Previously the method returned Iterator&lt;XdmItem&gt;; the signature changed in Saxon 9.5.1.5 for reasons
 described in bug 2016.</dd>
</dl>
</li>
</ul>
<a name="stream--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>stream</h4>
<pre>public&nbsp;<a href="../../../../net/sf/saxon/s9api/streams/XdmStream.html" title="class in net.sf.saxon.s9api.streams">XdmStream</a>&lt;<a href="../../../../net/sf/saxon/s9api/XdmItem.html" title="class in net.sf.saxon.s9api">XdmItem</a>&gt;&nbsp;stream()
                          throws <a href="../../../../net/sf/saxon/s9api/SaxonApiUncheckedException.html" title="class in net.sf.saxon.s9api">SaxonApiUncheckedException</a></pre>
<div class="block">Evaluate the query, returning the result as an <code>Stream</code>.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>A stream delivering the results of the query.
 Each object in this stream will be an instance of <code>XdmItem</code>. Note
 that the expression may be evaluated lazily, which means that a successful response
 from this method does not imply that the expression has executed successfully: failures
 may be reported later while retrieving items from the iterator.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../net/sf/saxon/s9api/SaxonApiUncheckedException.html" title="class in net.sf.saxon.s9api">SaxonApiUncheckedException</a></code> - if a dynamic error occurs during XPath evaluation that
                                    can be detected at this point.</dd>
</dl>
</li>
</ul>
<a name="getReceiver-net.sf.saxon.event.PipelineConfiguration-net.sf.saxon.serialize.SerializationProperties-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getReceiver</h4>
<pre>public&nbsp;<a href="../../../../net/sf/saxon/event/Receiver.html" title="interface in net.sf.saxon.event">Receiver</a>&nbsp;getReceiver(<a href="../../../../net/sf/saxon/event/PipelineConfiguration.html" title="class in net.sf.saxon.event">PipelineConfiguration</a>&nbsp;pipe,
                            <a href="../../../../net/sf/saxon/serialize/SerializationProperties.html" title="class in net.sf.saxon.serialize">SerializationProperties</a>&nbsp;params)
                     throws <a href="../../../../net/sf/saxon/s9api/SaxonApiException.html" title="class in net.sf.saxon.s9api">SaxonApiException</a></pre>
<div class="block">Return a Receiver which can be used to supply the principal source document for the transformation.
 This method is intended primarily for internal use, though it can also
 be called by a user application that wishes to feed events into the query engine.
 <p>Saxon calls this method to obtain a Receiver, to which it then sends
 a sequence of events representing the content of an XML document. This method is provided so that
 <code>XQueryEvaluator</code> implements <code>Destination</code>, allowing one transformation
 to receive the results of another in a pipeline.</p>
 <p>Note that when an <code>XQueryEvaluator</code> is used as a <code>Destination</code>, the initial
 context node set on that <code>XQueryEvaluator</code> (using <a href="../../../../net/sf/saxon/s9api/XQueryEvaluator.html#setSource-javax.xml.transform.Source-"><code>setSource(javax.xml.transform.Source)</code></a>) is ignored.</p></div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../net/sf/saxon/s9api/Destination.html#getReceiver-net.sf.saxon.event.PipelineConfiguration-net.sf.saxon.serialize.SerializationProperties-">getReceiver</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../net/sf/saxon/s9api/Destination.html" title="interface in net.sf.saxon.s9api">Destination</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>pipe</code> - The Saxon configuration. This is supplied so that the destination can
               use information from the configuration (for example, a reference to the name pool)
               to construct or configure the returned Receiver.</dd>
<dd><code>params</code> - the output serialization properties</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the Receiver to which events are to be sent.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../net/sf/saxon/s9api/SaxonApiException.html" title="class in net.sf.saxon.s9api">SaxonApiException</a></code> - if the Receiver cannot be created</dd>
<dd><code>java.lang.IllegalStateException</code> - if no Destination has been supplied</dd>
</dl>
</li>
</ul>
<a name="close--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>close</h4>
<pre>public&nbsp;void&nbsp;close()
           throws <a href="../../../../net/sf/saxon/s9api/SaxonApiException.html" title="class in net.sf.saxon.s9api">SaxonApiException</a></pre>
<div class="block">Close this destination, allowing resources to be released. Used when this <code>XQueryEvaluator</code> is acting
 as the destination of another transformation or query. Saxon calls this method when it has finished writing
 to the destination.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../net/sf/saxon/s9api/Destination.html#close--">close</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../net/sf/saxon/s9api/Destination.html" title="interface in net.sf.saxon.s9api">Destination</a></code></dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../net/sf/saxon/s9api/SaxonApiException.html" title="class in net.sf.saxon.s9api">SaxonApiException</a></code> - if any failure occurs</dd>
</dl>
</li>
</ul>
<a name="getUpdatedDocuments--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getUpdatedDocuments</h4>
<pre>public&nbsp;java.util.Iterator&lt;<a href="../../../../net/sf/saxon/s9api/XdmNode.html" title="class in net.sf.saxon.s9api">XdmNode</a>&gt;&nbsp;getUpdatedDocuments()</pre>
<div class="block">After executing an updating query using the <a href="../../../../net/sf/saxon/s9api/XQueryEvaluator.html#run--"><code>run()</code></a> method, iterate over the root
 nodes of the documents updated by the query.
 <p>The results remain available until a new query is executed. This method returns the results
 of the most recently executed query. It does not consume the results.</p></div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>an iterator over the root nodes of documents (or other trees) that were updated by the query</dd>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>9.1</dd>
</dl>
</li>
</ul>
<a name="callFunction-net.sf.saxon.s9api.QName-net.sf.saxon.s9api.XdmValue:A-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>callFunction</h4>
<pre>public&nbsp;<a href="../../../../net/sf/saxon/s9api/XdmValue.html" title="class in net.sf.saxon.s9api">XdmValue</a>&nbsp;callFunction(<a href="../../../../net/sf/saxon/s9api/QName.html" title="class in net.sf.saxon.s9api">QName</a>&nbsp;function,
                             <a href="../../../../net/sf/saxon/s9api/XdmValue.html" title="class in net.sf.saxon.s9api">XdmValue</a>[]&nbsp;arguments)
                      throws <a href="../../../../net/sf/saxon/s9api/SaxonApiException.html" title="class in net.sf.saxon.s9api">SaxonApiException</a></pre>
<div class="block">Call a global user-defined function in the compiled query.
 <p>If this is called more than once (to evaluate the same function repeatedly with different arguments,
 or to evaluate different functions) then the sequence of evaluations uses the same values of global
 variables including external variables (query parameters); the effect of any changes made to query parameters
 between calls is undefined.</p></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>function</code> - The name of the function to be called</dd>
<dd><code>arguments</code> - The values of the arguments to be supplied to the function. If necessary
 these are converted to the required type by applying the function conversion rules.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the result of the function call as an XdmValue.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../net/sf/saxon/s9api/SaxonApiException.html" title="class in net.sf.saxon.s9api">SaxonApiException</a></code> - if no function has been defined with the given name and arity;
                           or if any of the arguments does not match its required type according to the function
                           signature; or if a dynamic error occurs in evaluating the function.</dd>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>9.3. Changed in 9.6 to apply the function conversion rules to the supplied arguments.</dd>
</dl>
</li>
</ul>
<a name="getUnderlyingQueryContext--">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>getUnderlyingQueryContext</h4>
<pre>public&nbsp;<a href="../../../../net/sf/saxon/query/DynamicQueryContext.html" title="class in net.sf.saxon.query">DynamicQueryContext</a>&nbsp;getUnderlyingQueryContext()</pre>
<div class="block">Get the underlying dynamic context object. This provides an escape hatch to the underlying
 implementation classes, which contain methods that may change from one release to another.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the underlying object representing the dynamic context for query execution</dd>
</dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../net/sf/saxon/s9api/XQueryCompiler.html" title="class in net.sf.saxon.s9api"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../../net/sf/saxon/s9api/XQueryExecutable.html" title="class in net.sf.saxon.s9api"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?net/sf/saxon/s9api/XQueryEvaluator.html" target="_top">Frames</a></li>
<li><a href="XQueryEvaluator.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#fields.inherited.from.class.net.sf.saxon.s9api.AbstractDestination">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
<p class="legalCopy"><small>Copyright (c) 2004-2020 Saxonica Limited. All rights reserved.</small></p>
</body>
</html>
