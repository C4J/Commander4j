<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (1.8.0_171) on Wed Aug 26 14:53:12 BST 2020 -->
<title>ExtensionFunctionDefinition</title>
<meta name="date" content="2020-08-26">
<link rel="stylesheet" type="text/css" href="../../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="ExtensionFunctionDefinition";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":10,"i1":10,"i2":6,"i3":6,"i4":10,"i5":10,"i6":6,"i7":10,"i8":6,"i9":10};
var tabs = {65535:["t0","All Methods"],2:["t2","Instance Methods"],4:["t3","Abstract Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../net/sf/saxon/lib/ExtensionFunctionCall.html" title="class in net.sf.saxon.lib"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../../net/sf/saxon/lib/ExternalObjectModel.html" title="interface in net.sf.saxon.lib"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?net/sf/saxon/lib/ExtensionFunctionDefinition.html" target="_top">Frames</a></li>
<li><a href="ExtensionFunctionDefinition.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">net.sf.saxon.lib</div>
<h2 title="Class ExtensionFunctionDefinition" class="title">Class ExtensionFunctionDefinition</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li>net.sf.saxon.lib.ExtensionFunctionDefinition</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>Direct Known Subclasses:</dt>
<dd><a href="../../../../net/sf/saxon/functions/IsIdRef.html" title="class in net.sf.saxon.functions">IsIdRef</a></dd>
</dl>
<hr>
<br>
<pre>public abstract class <span class="typeNameLabel">ExtensionFunctionDefinition</span>
extends java.lang.Object</pre>
<div class="block">This abstract class is provided to allow user-written extension functions to be implemented
 with the full capabilities of functions that are an intrinsic part of the Saxon product.
 In particular, the class has the opportunity to save data from the static context and
 to optimize itself at compile time.
 <p>There should be one class implementing this interface for each function name; if there
 are several functions with the same name but different arity, the same class should implement
 them all.</p>
 <p>Note that an IntegratedFunction is trusted; calls are allowed even if the configuration option
 <a href="../../../../net/sf/saxon/lib/FeatureKeys.html#ALLOW_EXTERNAL_FUNCTIONS"><code>FeatureKeys.ALLOW_EXTERNAL_FUNCTIONS</code></a> is false. In cases where an IntegratedFunction
 is used to load and execute untrusted code, it should check this configuration option before doing so.</p></div>
<dl>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>9.2</dd>
</dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><span class="memberNameLink"><a href="../../../../net/sf/saxon/lib/ExtensionFunctionDefinition.html#ExtensionFunctionDefinition--">ExtensionFunctionDefinition</a></span>()</code>&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t3" class="tableTab"><span><a href="javascript:show(4);">Abstract Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code><a href="../../../../net/sf/saxon/om/Function.html" title="interface in net.sf.saxon.om">Function</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../net/sf/saxon/lib/ExtensionFunctionDefinition.html#asFunction--">asFunction</a></span>()</code>
<div class="block">Get a Function item representing this ExtensionFunctionDefinition</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../net/sf/saxon/lib/ExtensionFunctionDefinition.html#dependsOnFocus--">dependsOnFocus</a></span>()</code>
<div class="block">Ask whether the result of the function depends on the focus, or on other variable parts
 of the context.</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>abstract <a href="../../../../net/sf/saxon/value/SequenceType.html" title="class in net.sf.saxon.value">SequenceType</a>[]</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../net/sf/saxon/lib/ExtensionFunctionDefinition.html#getArgumentTypes--">getArgumentTypes</a></span>()</code>
<div class="block">Get the required types for the arguments of this function.</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>abstract <a href="../../../../net/sf/saxon/om/StructuredQName.html" title="class in net.sf.saxon.om">StructuredQName</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../net/sf/saxon/lib/ExtensionFunctionDefinition.html#getFunctionQName--">getFunctionQName</a></span>()</code>
<div class="block">Get the name of the function, as a QName.</div>
</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../net/sf/saxon/lib/ExtensionFunctionDefinition.html#getMaximumNumberOfArguments--">getMaximumNumberOfArguments</a></span>()</code>
<div class="block">Get the maximum number of arguments allowed by the function.</div>
</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../net/sf/saxon/lib/ExtensionFunctionDefinition.html#getMinimumNumberOfArguments--">getMinimumNumberOfArguments</a></span>()</code>
<div class="block">Get the minimum number of arguments required by the function</div>
</td>
</tr>
<tr id="i6" class="altColor">
<td class="colFirst"><code>abstract <a href="../../../../net/sf/saxon/value/SequenceType.html" title="class in net.sf.saxon.value">SequenceType</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../net/sf/saxon/lib/ExtensionFunctionDefinition.html#getResultType-net.sf.saxon.value.SequenceType:A-">getResultType</a></span>(<a href="../../../../net/sf/saxon/value/SequenceType.html" title="class in net.sf.saxon.value">SequenceType</a>[]&nbsp;suppliedArgumentTypes)</code>
<div class="block">Get the type of the result of the function</div>
</td>
</tr>
<tr id="i7" class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../net/sf/saxon/lib/ExtensionFunctionDefinition.html#hasSideEffects--">hasSideEffects</a></span>()</code>
<div class="block">Ask whether the function has side-effects.</div>
</td>
</tr>
<tr id="i8" class="altColor">
<td class="colFirst"><code>abstract <a href="../../../../net/sf/saxon/lib/ExtensionFunctionCall.html" title="class in net.sf.saxon.lib">ExtensionFunctionCall</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../net/sf/saxon/lib/ExtensionFunctionDefinition.html#makeCallExpression--">makeCallExpression</a></span>()</code>
<div class="block">Create a call on this function.</div>
</td>
</tr>
<tr id="i9" class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../net/sf/saxon/lib/ExtensionFunctionDefinition.html#trustResultType--">trustResultType</a></span>()</code>
<div class="block">Ask whether the result actually returned by the function can be trusted,
 or whether it should be checked against the declared type.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="ExtensionFunctionDefinition--">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>ExtensionFunctionDefinition</h4>
<pre>public&nbsp;ExtensionFunctionDefinition()</pre>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="getFunctionQName--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getFunctionQName</h4>
<pre>public abstract&nbsp;<a href="../../../../net/sf/saxon/om/StructuredQName.html" title="class in net.sf.saxon.om">StructuredQName</a>&nbsp;getFunctionQName()</pre>
<div class="block">Get the name of the function, as a QName.
 <p>This method must be implemented in all subclasses</p></div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the function name</dd>
</dl>
</li>
</ul>
<a name="getMinimumNumberOfArguments--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getMinimumNumberOfArguments</h4>
<pre>public&nbsp;int&nbsp;getMinimumNumberOfArguments()</pre>
<div class="block">Get the minimum number of arguments required by the function
 <p>The default implementation returns the number of items in the result of calling
 <a href="../../../../net/sf/saxon/lib/ExtensionFunctionDefinition.html#getArgumentTypes--"><code>getArgumentTypes()</code></a></p></div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the minimum number of arguments that must be supplied in a call to this function</dd>
</dl>
</li>
</ul>
<a name="getMaximumNumberOfArguments--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getMaximumNumberOfArguments</h4>
<pre>public&nbsp;int&nbsp;getMaximumNumberOfArguments()</pre>
<div class="block">Get the maximum number of arguments allowed by the function.
 <p>The default implementation returns the value of <a href="../../../../net/sf/saxon/lib/ExtensionFunctionDefinition.html#getMinimumNumberOfArguments--"><code>getMinimumNumberOfArguments()</code></a></div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the maximum number of arguments that may be supplied in a call to this function</dd>
</dl>
</li>
</ul>
<a name="getArgumentTypes--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getArgumentTypes</h4>
<pre>public abstract&nbsp;<a href="../../../../net/sf/saxon/value/SequenceType.html" title="class in net.sf.saxon.value">SequenceType</a>[]&nbsp;getArgumentTypes()</pre>
<div class="block">Get the required types for the arguments of this function.
 <p>This method must be implemented in all subtypes.</p></div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the required types of the arguments, as defined by the function signature. Normally
         this should be an array of size <a href="../../../../net/sf/saxon/lib/ExtensionFunctionDefinition.html#getMaximumNumberOfArguments--"><code>getMaximumNumberOfArguments()</code></a>; however for functions
         that allow a variable number of arguments, the array can be smaller than this, with the last
         entry in the array providing the required type for all the remaining arguments.</dd>
</dl>
</li>
</ul>
<a name="getResultType-net.sf.saxon.value.SequenceType:A-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getResultType</h4>
<pre>public abstract&nbsp;<a href="../../../../net/sf/saxon/value/SequenceType.html" title="class in net.sf.saxon.value">SequenceType</a>&nbsp;getResultType(<a href="../../../../net/sf/saxon/value/SequenceType.html" title="class in net.sf.saxon.value">SequenceType</a>[]&nbsp;suppliedArgumentTypes)</pre>
<div class="block">Get the type of the result of the function
 <p>This method must be implemented in all subtypes.</p></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>suppliedArgumentTypes</code> - the static types of the supplied arguments to the function.
                              This is provided so that a more precise result type can be returned in the common
                              case where the type of the result depends on the types of the arguments.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the return type of the function, as defined by its function signature</dd>
</dl>
</li>
</ul>
<a name="trustResultType--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>trustResultType</h4>
<pre>public&nbsp;boolean&nbsp;trustResultType()</pre>
<div class="block">Ask whether the result actually returned by the function can be trusted,
 or whether it should be checked against the declared type.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>true if the function implementation warrants that the value it returns will
         be an instance of the declared result type. The default value is false, in which case
         the result will be checked at run-time to ensure that it conforms to the declared type.
         If the value true is returned, but the function returns a value of the wrong type, the
         consequences are unpredictable.</dd>
</dl>
</li>
</ul>
<a name="dependsOnFocus--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>dependsOnFocus</h4>
<pre>public&nbsp;boolean&nbsp;dependsOnFocus()</pre>
<div class="block">Ask whether the result of the function depends on the focus, or on other variable parts
 of the context.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>true if the result of the function depends on the context item, position, or size.
         Despite the method name, the method should also return true if the function depends on other
         parts of the context that vary from one part of the query/stylesheet to another, for example
         the XPath default namespace.
         <p>The default implementation returns false.</p>
         <p>The method must return true if the function
         makes use of any of these values from the dynamic context. Returning true inhibits certain
         optimizations, such as moving the function call out of the body of an xsl:for-each loop,
         or extracting it into a global variable.</p></dd>
</dl>
</li>
</ul>
<a name="hasSideEffects--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>hasSideEffects</h4>
<pre>public&nbsp;boolean&nbsp;hasSideEffects()</pre>
<div class="block">Ask whether the function has side-effects. If the function does have side-effects, the optimizer
 will be less aggressive in moving or removing calls to the function. However, calls on functions
 with side-effects can never be guaranteed.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>true if the function has side-effects (including creation of new nodes, if the
         identity of those nodes is significant). The default implementation returns false.</dd>
</dl>
</li>
</ul>
<a name="makeCallExpression--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>makeCallExpression</h4>
<pre>public abstract&nbsp;<a href="../../../../net/sf/saxon/lib/ExtensionFunctionCall.html" title="class in net.sf.saxon.lib">ExtensionFunctionCall</a>&nbsp;makeCallExpression()</pre>
<div class="block">Create a call on this function. This method is called by the compiler when it identifies
 a function call that calls this function.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>an expression representing a call of this extension function</dd>
</dl>
</li>
</ul>
<a name="asFunction--">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>asFunction</h4>
<pre>public final&nbsp;<a href="../../../../net/sf/saxon/om/Function.html" title="interface in net.sf.saxon.om">Function</a>&nbsp;asFunction()</pre>
<div class="block">Get a Function item representing this ExtensionFunctionDefinition</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>a function item corresponding to this extension function</dd>
</dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../net/sf/saxon/lib/ExtensionFunctionCall.html" title="class in net.sf.saxon.lib"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../../net/sf/saxon/lib/ExternalObjectModel.html" title="interface in net.sf.saxon.lib"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?net/sf/saxon/lib/ExtensionFunctionDefinition.html" target="_top">Frames</a></li>
<li><a href="ExtensionFunctionDefinition.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
<p class="legalCopy"><small>Copyright (c) 2004-2020 Saxonica Limited. All rights reserved.</small></p>
</body>
</html>
