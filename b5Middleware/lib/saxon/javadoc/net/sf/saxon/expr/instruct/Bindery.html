<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (1.8.0_171) on Wed Aug 26 14:53:09 BST 2020 -->
<title>Bindery</title>
<meta name="date" content="2020-08-26">
<link rel="stylesheet" type="text/css" href="../../../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="Bindery";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":10,"i1":10,"i2":10,"i3":10,"i4":10,"i5":10,"i6":10};
var tabs = {65535:["t0","All Methods"],2:["t2","Instance Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../net/sf/saxon/expr/instruct/AttributeSet.html" title="class in net.sf.saxon.expr.instruct"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../../../net/sf/saxon/expr/instruct/Bindery.FailureValue.html" title="class in net.sf.saxon.expr.instruct"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../index.html?net/sf/saxon/expr/instruct/Bindery.html" target="_top">Frames</a></li>
<li><a href="Bindery.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested.class.summary">Nested</a>&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">net.sf.saxon.expr.instruct</div>
<h2 title="Class Bindery" class="title">Class Bindery</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li>net.sf.saxon.expr.instruct.Bindery</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<hr>
<br>
<pre>public final class <span class="typeNameLabel">Bindery</span>
extends java.lang.Object</pre>
<div class="block">The Bindery class holds information about variables and their values. It is
 used only for global variables: local variables are held in the XPathContext object.

 <p>Variables are identified by a <a href="../../../../../net/sf/saxon/expr/instruct/GlobalVariable.html" title="class in net.sf.saxon.expr.instruct"><code>GlobalVariable</code></a> object. Values will always be of class <a href="../../../../../net/sf/saxon/om/Sequence.html" title="interface in net.sf.saxon.om"><code>Sequence</code></a>.</p>

 <p>The Bindery is a run-time object, but slot numbers within the bindery are allocated to global
 variables at compile time. Because XSLT packages can be separately compiled, each package needs
 to have its own bindery.</p>

 <p>From Saxon 9.7 there is one Bindery for the global variables in each separately-compiled package.
 The Bindery is no longer used to hold supplied values of global parameters, but it does hold their
 values after initialization, treating them as normal global variables. Management of dependencies
 among global variables, and checking for dynamic circularities, has been moved to the <a href="../../../../../net/sf/saxon/Controller.html" title="class in net.sf.saxon"><code>Controller</code></a>.</p></div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== NESTED CLASS SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="nested.class.summary">
<!--   -->
</a>
<h3>Nested Class Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Nested Class Summary table, listing nested classes, and an explanation">
<caption><span>Nested Classes</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Class and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static class&nbsp;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../net/sf/saxon/expr/instruct/Bindery.FailureValue.html" title="class in net.sf.saxon.expr.instruct">Bindery.FailureValue</a></span></code>
<div class="block">A value that can be saved in a global variable to indicate that evaluation failed, and that
 subsequent attempts at evaluation should also fail</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><span class="memberNameLink"><a href="../../../../../net/sf/saxon/expr/instruct/Bindery.html#Bindery-net.sf.saxon.expr.PackageData-">Bindery</a></span>(<a href="../../../../../net/sf/saxon/expr/PackageData.html" title="class in net.sf.saxon.expr">PackageData</a>&nbsp;pack)</code>&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code><a href="../../../../../net/sf/saxon/om/GroundedValue.html" title="interface in net.sf.saxon.om">GroundedValue</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../net/sf/saxon/expr/instruct/Bindery.html#getGlobalVariable-int-">getGlobalVariable</a></span>(int&nbsp;slot)</code>
<div class="block">Get the value of a global variable whose slot number is known</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code><a href="../../../../../net/sf/saxon/om/GroundedValue.html" title="interface in net.sf.saxon.om">GroundedValue</a>[]</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../net/sf/saxon/expr/instruct/Bindery.html#getGlobalVariables--">getGlobalVariables</a></span>()</code>
<div class="block">Get all the global variables, as an array.</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code><a href="../../../../../net/sf/saxon/om/GroundedValue.html" title="interface in net.sf.saxon.om">GroundedValue</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../net/sf/saxon/expr/instruct/Bindery.html#getGlobalVariableValue-net.sf.saxon.expr.instruct.GlobalVariable-">getGlobalVariableValue</a></span>(<a href="../../../../../net/sf/saxon/expr/instruct/GlobalVariable.html" title="class in net.sf.saxon.expr.instruct">GlobalVariable</a>&nbsp;binding)</code>
<div class="block">Get the value of a global variable</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code><a href="../../../../../net/sf/saxon/om/GroundedValue.html" title="interface in net.sf.saxon.om">GroundedValue</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../net/sf/saxon/expr/instruct/Bindery.html#saveGlobalVariableValue-net.sf.saxon.expr.instruct.GlobalVariable-net.sf.saxon.om.GroundedValue-">saveGlobalVariableValue</a></span>(<a href="../../../../../net/sf/saxon/expr/instruct/GlobalVariable.html" title="class in net.sf.saxon.expr.instruct">GlobalVariable</a>&nbsp;binding,
                       <a href="../../../../../net/sf/saxon/om/GroundedValue.html" title="interface in net.sf.saxon.om">GroundedValue</a>&nbsp;value)</code>
<div class="block">Save the value of a global variable, and mark evaluation as complete.</div>
</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../net/sf/saxon/expr/instruct/Bindery.html#setExecuting-net.sf.saxon.expr.instruct.GlobalVariable-">setExecuting</a></span>(<a href="../../../../../net/sf/saxon/expr/instruct/GlobalVariable.html" title="class in net.sf.saxon.expr.instruct">GlobalVariable</a>&nbsp;binding)</code>
<div class="block">Set/Unset a flag to indicate that a particular global variable is currently being
 evaluated.</div>
</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../net/sf/saxon/expr/instruct/Bindery.html#setGlobalVariable-net.sf.saxon.expr.instruct.GlobalVariable-net.sf.saxon.om.GroundedValue-">setGlobalVariable</a></span>(<a href="../../../../../net/sf/saxon/expr/instruct/GlobalVariable.html" title="class in net.sf.saxon.expr.instruct">GlobalVariable</a>&nbsp;binding,
                 <a href="../../../../../net/sf/saxon/om/GroundedValue.html" title="interface in net.sf.saxon.om">GroundedValue</a>&nbsp;value)</code>
<div class="block">Provide a value for a global variable</div>
</td>
</tr>
<tr id="i6" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../net/sf/saxon/expr/instruct/Bindery.html#setNotExecuting-net.sf.saxon.expr.instruct.GlobalVariable-">setNotExecuting</a></span>(<a href="../../../../../net/sf/saxon/expr/instruct/GlobalVariable.html" title="class in net.sf.saxon.expr.instruct">GlobalVariable</a>&nbsp;binding)</code>
<div class="block">Indicate that a global variable is not currently being evaluated</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="Bindery-net.sf.saxon.expr.PackageData-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>Bindery</h4>
<pre>public&nbsp;Bindery(<a href="../../../../../net/sf/saxon/expr/PackageData.html" title="class in net.sf.saxon.expr">PackageData</a>&nbsp;pack)</pre>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="setGlobalVariable-net.sf.saxon.expr.instruct.GlobalVariable-net.sf.saxon.om.GroundedValue-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setGlobalVariable</h4>
<pre>public&nbsp;void&nbsp;setGlobalVariable(<a href="../../../../../net/sf/saxon/expr/instruct/GlobalVariable.html" title="class in net.sf.saxon.expr.instruct">GlobalVariable</a>&nbsp;binding,
                              <a href="../../../../../net/sf/saxon/om/GroundedValue.html" title="interface in net.sf.saxon.om">GroundedValue</a>&nbsp;value)</pre>
<div class="block">Provide a value for a global variable</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>binding</code> - identifies the variable</dd>
<dd><code>value</code> - the value of the variable</dd>
</dl>
</li>
</ul>
<a name="setExecuting-net.sf.saxon.expr.instruct.GlobalVariable-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setExecuting</h4>
<pre>public&nbsp;boolean&nbsp;setExecuting(<a href="../../../../../net/sf/saxon/expr/instruct/GlobalVariable.html" title="class in net.sf.saxon.expr.instruct">GlobalVariable</a>&nbsp;binding)
                     throws <a href="../../../../../net/sf/saxon/trans/XPathException.html" title="class in net.sf.saxon.trans">XPathException</a></pre>
<div class="block">Set/Unset a flag to indicate that a particular global variable is currently being
 evaluated. Note that this code is not synchronized, so there is no absolute guarantee that
 two threads will not both evaluate the same global variable; however, apart from wasted time,
 it is harmless if they do.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>binding</code> - the global variable in question</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>true if evaluation of the variable should proceed; false if it is found that the variable has now been
         evaluated in another thread.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../net/sf/saxon/trans/XPathException.html" title="class in net.sf.saxon.trans">XPathException</a></code> - If an attempt is made to set the flag when it is already set, this means
          the definition of the variable is circular.</dd>
</dl>
</li>
</ul>
<a name="setNotExecuting-net.sf.saxon.expr.instruct.GlobalVariable-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setNotExecuting</h4>
<pre>public&nbsp;void&nbsp;setNotExecuting(<a href="../../../../../net/sf/saxon/expr/instruct/GlobalVariable.html" title="class in net.sf.saxon.expr.instruct">GlobalVariable</a>&nbsp;binding)</pre>
<div class="block">Indicate that a global variable is not currently being evaluated</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>binding</code> - the global variable</dd>
</dl>
</li>
</ul>
<a name="saveGlobalVariableValue-net.sf.saxon.expr.instruct.GlobalVariable-net.sf.saxon.om.GroundedValue-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>saveGlobalVariableValue</h4>
<pre>public&nbsp;<a href="../../../../../net/sf/saxon/om/GroundedValue.html" title="interface in net.sf.saxon.om">GroundedValue</a>&nbsp;saveGlobalVariableValue(<a href="../../../../../net/sf/saxon/expr/instruct/GlobalVariable.html" title="class in net.sf.saxon.expr.instruct">GlobalVariable</a>&nbsp;binding,
                                             <a href="../../../../../net/sf/saxon/om/GroundedValue.html" title="interface in net.sf.saxon.om">GroundedValue</a>&nbsp;value)</pre>
<div class="block">Save the value of a global variable, and mark evaluation as complete.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>binding</code> - the global variable in question</dd>
<dd><code>value</code> - the value that this thread has obtained by evaluating the variable</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the value actually given to the variable. Exceptionally this will be different from the supplied
         value if another thread has evaluated the same global variable concurrently. The returned value should be
         used in preference, to ensure that all threads agree on the value. They could be different if for example
         the variable is initialized using the collection() function.</dd>
</dl>
</li>
</ul>
<a name="getGlobalVariableValue-net.sf.saxon.expr.instruct.GlobalVariable-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getGlobalVariableValue</h4>
<pre>public&nbsp;<a href="../../../../../net/sf/saxon/om/GroundedValue.html" title="interface in net.sf.saxon.om">GroundedValue</a>&nbsp;getGlobalVariableValue(<a href="../../../../../net/sf/saxon/expr/instruct/GlobalVariable.html" title="class in net.sf.saxon.expr.instruct">GlobalVariable</a>&nbsp;binding)</pre>
<div class="block">Get the value of a global variable</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>binding</code> - the Binding that establishes the unique instance of the variable</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the Value of the variable if defined, null otherwise.</dd>
</dl>
</li>
</ul>
<a name="getGlobalVariable-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getGlobalVariable</h4>
<pre>public&nbsp;<a href="../../../../../net/sf/saxon/om/GroundedValue.html" title="interface in net.sf.saxon.om">GroundedValue</a>&nbsp;getGlobalVariable(int&nbsp;slot)</pre>
<div class="block">Get the value of a global variable whose slot number is known</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>slot</code> - the slot number of the required variable</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the Value of the variable if defined, null otherwise.</dd>
</dl>
</li>
</ul>
<a name="getGlobalVariables--">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>getGlobalVariables</h4>
<pre>public&nbsp;<a href="../../../../../net/sf/saxon/om/GroundedValue.html" title="interface in net.sf.saxon.om">GroundedValue</a>[]&nbsp;getGlobalVariables()</pre>
<div class="block">Get all the global variables, as an array. This is provided for use by debuggers.
 The meaning of the result can be determined by use of data held in the corresponding PackageData.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the array of global variables.</dd>
</dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../net/sf/saxon/expr/instruct/AttributeSet.html" title="class in net.sf.saxon.expr.instruct"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../../../net/sf/saxon/expr/instruct/Bindery.FailureValue.html" title="class in net.sf.saxon.expr.instruct"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../index.html?net/sf/saxon/expr/instruct/Bindery.html" target="_top">Frames</a></li>
<li><a href="Bindery.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested.class.summary">Nested</a>&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
<p class="legalCopy"><small>Copyright (c) 2004-2020 Saxonica Limited. All rights reserved.</small></p>
</body>
</html>
