<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (1.8.0_171) on Wed Aug 26 14:53:10 BST 2020 -->
<title>ExpressionTool</title>
<meta name="date" content="2020-08-26">
<link rel="stylesheet" type="text/css" href="../../../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="ExpressionTool";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":9,"i1":9,"i2":9,"i3":9,"i4":9,"i5":9,"i6":9,"i7":9,"i8":9,"i9":9,"i10":9,"i11":9,"i12":9,"i13":9,"i14":9,"i15":9,"i16":9,"i17":9,"i18":9,"i19":9,"i20":9,"i21":9,"i22":9,"i23":9,"i24":9,"i25":9,"i26":9,"i27":9,"i28":9,"i29":9,"i30":9,"i31":9,"i32":9,"i33":9,"i34":9,"i35":9,"i36":9,"i37":9,"i38":9,"i39":9,"i40":9,"i41":9,"i42":9,"i43":9,"i44":9,"i45":9,"i46":9,"i47":9,"i48":9,"i49":9,"i50":9,"i51":9,"i52":9,"i53":9,"i54":9,"i55":9,"i56":9,"i57":9,"i58":9,"i59":9,"i60":9,"i61":9,"i62":9,"i63":9,"i64":9,"i65":9,"i66":9};
var tabs = {65535:["t0","All Methods"],1:["t1","Static Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../net/sf/saxon/expr/parser/ExpressionAction.html" title="interface in net.sf.saxon.expr.parser"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../../../net/sf/saxon/expr/parser/ExpressionTool.ExpressionSelector.html" title="interface in net.sf.saxon.expr.parser"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../index.html?net/sf/saxon/expr/parser/ExpressionTool.html" target="_top">Frames</a></li>
<li><a href="ExpressionTool.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested.class.summary">Nested</a>&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">net.sf.saxon.expr.parser</div>
<h2 title="Class ExpressionTool" class="title">Class ExpressionTool</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li>net.sf.saxon.expr.parser.ExpressionTool</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<hr>
<br>
<pre>public class <span class="typeNameLabel">ExpressionTool</span>
extends java.lang.Object</pre>
<div class="block">This class, ExpressionTool, contains a number of useful static methods
 for manipulating expressions. Most importantly, it provides the factory
 method make() for constructing a new expression</div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== NESTED CLASS SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="nested.class.summary">
<!--   -->
</a>
<h3>Nested Class Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Nested Class Summary table, listing nested classes, and an explanation">
<caption><span>Nested Classes</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Class and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static interface&nbsp;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../net/sf/saxon/expr/parser/ExpressionTool.ExpressionSelector.html" title="interface in net.sf.saxon.expr.parser">ExpressionTool.ExpressionSelector</a></span></code>
<div class="block">Callback for selecting expressions in the tree</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t1" class="tableTab"><span><a href="javascript:show(1);">Static Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>static int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../net/sf/saxon/expr/parser/ExpressionTool.html#allocateSlots-net.sf.saxon.expr.Expression-int-net.sf.saxon.expr.instruct.SlotManager-">allocateSlots</a></span>(<a href="../../../../../net/sf/saxon/expr/Expression.html" title="class in net.sf.saxon.expr">Expression</a>&nbsp;exp,
             int&nbsp;nextFree,
             <a href="../../../../../net/sf/saxon/expr/instruct/SlotManager.html" title="class in net.sf.saxon.expr.instruct">SlotManager</a>&nbsp;frame)</code>
<div class="block">Allocate slot numbers to range variables</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>static boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../net/sf/saxon/expr/parser/ExpressionTool.html#callsFunction-net.sf.saxon.expr.Expression-net.sf.saxon.om.StructuredQName-boolean-">callsFunction</a></span>(<a href="../../../../../net/sf/saxon/expr/Expression.html" title="class in net.sf.saxon.expr">Expression</a>&nbsp;exp,
             <a href="../../../../../net/sf/saxon/om/StructuredQName.html" title="class in net.sf.saxon.om">StructuredQName</a>&nbsp;qName,
             boolean&nbsp;sameFocusOnly)</code>
<div class="block">Determine whether an expression contains a call on the function with a given name</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>static boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../net/sf/saxon/expr/parser/ExpressionTool.html#changesXsltContext-net.sf.saxon.expr.Expression-">changesXsltContext</a></span>(<a href="../../../../../net/sf/saxon/expr/Expression.html" title="class in net.sf.saxon.expr">Expression</a>&nbsp;exp)</code>
<div class="block">Determine whether an expression possible calls (directly or indirectly) xsl:result-document, or
 has other context dependencies that prevent function inlining,
 which we assume is true if it contains a template call.</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>static void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../net/sf/saxon/expr/parser/ExpressionTool.html#clearStreamabilityData-net.sf.saxon.expr.Expression-">clearStreamabilityData</a></span>(<a href="../../../../../net/sf/saxon/expr/Expression.html" title="class in net.sf.saxon.expr">Expression</a>&nbsp;exp)</code>
<div class="block">Clear all computed streamability properties for an expression and its contained subtree</div>
</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code>static void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../net/sf/saxon/expr/parser/ExpressionTool.html#computeEvaluationModesForUserFunctionCalls-net.sf.saxon.expr.Expression-">computeEvaluationModesForUserFunctionCalls</a></span>(<a href="../../../../../net/sf/saxon/expr/Expression.html" title="class in net.sf.saxon.expr">Expression</a>&nbsp;exp)</code>
<div class="block">Compute argument evaluation modes for all calls on user defined functions with
 a specified expression</div>
</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code>static boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../net/sf/saxon/expr/parser/ExpressionTool.html#contains-net.sf.saxon.expr.Expression-boolean-java.util.function.Predicate-">contains</a></span>(<a href="../../../../../net/sf/saxon/expr/Expression.html" title="class in net.sf.saxon.expr">Expression</a>&nbsp;exp,
        boolean&nbsp;sameFocusOnly,
        java.util.function.Predicate&lt;<a href="../../../../../net/sf/saxon/expr/Expression.html" title="class in net.sf.saxon.expr">Expression</a>&gt;&nbsp;predicate)</code>
<div class="block">Test whether a given expression is, or contains, at any depth, an expression that satisfies a supplied
 condition</div>
</td>
</tr>
<tr id="i6" class="altColor">
<td class="colFirst"><code>static boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../net/sf/saxon/expr/parser/ExpressionTool.html#contains-net.sf.saxon.expr.Expression-net.sf.saxon.expr.Expression-">contains</a></span>(<a href="../../../../../net/sf/saxon/expr/Expression.html" title="class in net.sf.saxon.expr">Expression</a>&nbsp;a,
        <a href="../../../../../net/sf/saxon/expr/Expression.html" title="class in net.sf.saxon.expr">Expression</a>&nbsp;b)</code>
<div class="block">Ask whether one expression is a subexpression of another</div>
</td>
</tr>
<tr id="i7" class="rowColor">
<td class="colFirst"><code>static boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../net/sf/saxon/expr/parser/ExpressionTool.html#containsLocalParam-net.sf.saxon.expr.Expression-">containsLocalParam</a></span>(<a href="../../../../../net/sf/saxon/expr/Expression.html" title="class in net.sf.saxon.expr">Expression</a>&nbsp;exp)</code>
<div class="block">Determine whether an expression contains a LocalParamSetter subexpression</div>
</td>
</tr>
<tr id="i8" class="altColor">
<td class="colFirst"><code>static boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../net/sf/saxon/expr/parser/ExpressionTool.html#containsLocalVariableReference-net.sf.saxon.expr.Expression-">containsLocalVariableReference</a></span>(<a href="../../../../../net/sf/saxon/expr/Expression.html" title="class in net.sf.saxon.expr">Expression</a>&nbsp;exp)</code>
<div class="block">Determine whether an expression contains a local variable reference,
 other than a reference to a local variable whose binding occurs
 within this expression</div>
</td>
</tr>
<tr id="i9" class="rowColor">
<td class="colFirst"><code>static boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../net/sf/saxon/expr/parser/ExpressionTool.html#containsSubexpression-net.sf.saxon.expr.Expression-java.lang.Class-">containsSubexpression</a></span>(<a href="../../../../../net/sf/saxon/expr/Expression.html" title="class in net.sf.saxon.expr">Expression</a>&nbsp;exp,
                     java.lang.Class&lt;? extends <a href="../../../../../net/sf/saxon/expr/Expression.html" title="class in net.sf.saxon.expr">Expression</a>&gt;&nbsp;subClass)</code>
<div class="block">Determine whether an expression has a subexpression of a given implementation class</div>
</td>
</tr>
<tr id="i10" class="altColor">
<td class="colFirst"><code>static void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../net/sf/saxon/expr/parser/ExpressionTool.html#copyLocationInfo-net.sf.saxon.expr.Expression-net.sf.saxon.expr.Expression-">copyLocationInfo</a></span>(<a href="../../../../../net/sf/saxon/expr/Expression.html" title="class in net.sf.saxon.expr">Expression</a>&nbsp;from,
                <a href="../../../../../net/sf/saxon/expr/Expression.html" title="class in net.sf.saxon.expr">Expression</a>&nbsp;to)</code>
<div class="block">Copy location information (the line number and reference to the container) from one expression
 to another</div>
</td>
</tr>
<tr id="i11" class="rowColor">
<td class="colFirst"><code>static boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../net/sf/saxon/expr/parser/ExpressionTool.html#dependsOnFocus-net.sf.saxon.expr.Expression-">dependsOnFocus</a></span>(<a href="../../../../../net/sf/saxon/expr/Expression.html" title="class in net.sf.saxon.expr">Expression</a>&nbsp;exp)</code>
<div class="block">Ask whether an expression has a dependency on the focus</div>
</td>
</tr>
<tr id="i12" class="altColor">
<td class="colFirst"><code>static boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../net/sf/saxon/expr/parser/ExpressionTool.html#dependsOnVariable-net.sf.saxon.expr.Expression-net.sf.saxon.expr.Binding:A-">dependsOnVariable</a></span>(<a href="../../../../../net/sf/saxon/expr/Expression.html" title="class in net.sf.saxon.expr">Expression</a>&nbsp;exp,
                 <a href="../../../../../net/sf/saxon/expr/Binding.html" title="interface in net.sf.saxon.expr">Binding</a>[]&nbsp;bindingList)</code>
<div class="block">Determine whether an expression depends on any one of a set of variables</div>
</td>
</tr>
<tr id="i13" class="rowColor">
<td class="colFirst"><code>static <a href="../../../../../net/sf/saxon/om/GroundedValue.html" title="interface in net.sf.saxon.om">GroundedValue</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../net/sf/saxon/expr/parser/ExpressionTool.html#eagerEvaluate-net.sf.saxon.expr.Expression-net.sf.saxon.expr.XPathContext-">eagerEvaluate</a></span>(<a href="../../../../../net/sf/saxon/expr/Expression.html" title="class in net.sf.saxon.expr">Expression</a>&nbsp;exp,
             <a href="../../../../../net/sf/saxon/expr/XPathContext.html" title="interface in net.sf.saxon.expr">XPathContext</a>&nbsp;context)</code>
<div class="block">Evaluate an expression now; lazy evaluation is not permitted in this case</div>
</td>
</tr>
<tr id="i14" class="altColor">
<td class="colFirst"><code>static <a href="../../../../../net/sf/saxon/expr/parser/Evaluator.html" title="class in net.sf.saxon.expr.parser">Evaluator</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../net/sf/saxon/expr/parser/ExpressionTool.html#eagerEvaluator-net.sf.saxon.expr.Expression-">eagerEvaluator</a></span>(<a href="../../../../../net/sf/saxon/expr/Expression.html" title="class in net.sf.saxon.expr">Expression</a>&nbsp;exp)</code>
<div class="block">Get the evaluator to be used when eager evaluation of an expression is
 preferred.</div>
</td>
</tr>
<tr id="i15" class="rowColor">
<td class="colFirst"><code>static void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../net/sf/saxon/expr/parser/ExpressionTool.html#ebvError-java.lang.String-">ebvError</a></span>(java.lang.String&nbsp;reason)</code>
<div class="block">Report an error in computing the effective boolean value of an expression</div>
</td>
</tr>
<tr id="i16" class="altColor">
<td class="colFirst"><code>static void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../net/sf/saxon/expr/parser/ExpressionTool.html#ebvError-java.lang.String-net.sf.saxon.expr.Expression-">ebvError</a></span>(java.lang.String&nbsp;reason,
        <a href="../../../../../net/sf/saxon/expr/Expression.html" title="class in net.sf.saxon.expr">Expression</a>&nbsp;cause)</code>
<div class="block">Report an error in computing the effective boolean value of an expression</div>
</td>
</tr>
<tr id="i17" class="rowColor">
<td class="colFirst"><code>static boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../net/sf/saxon/expr/parser/ExpressionTool.html#effectiveBooleanValue-net.sf.saxon.om.Item-">effectiveBooleanValue</a></span>(<a href="../../../../../net/sf/saxon/om/Item.html" title="interface in net.sf.saxon.om">Item</a>&nbsp;item)</code>
<div class="block">Determine the effective boolean value of a single item</div>
</td>
</tr>
<tr id="i18" class="altColor">
<td class="colFirst"><code>static boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../net/sf/saxon/expr/parser/ExpressionTool.html#effectiveBooleanValue-net.sf.saxon.om.SequenceIterator-">effectiveBooleanValue</a></span>(<a href="../../../../../net/sf/saxon/om/SequenceIterator.html" title="interface in net.sf.saxon.om">SequenceIterator</a>&nbsp;iterator)</code>
<div class="block">Determine the effective boolean value of a sequence, given an iterator over the sequence</div>
</td>
</tr>
<tr id="i19" class="rowColor">
<td class="colFirst"><code>static boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../net/sf/saxon/expr/parser/ExpressionTool.html#equalOrNull-java.lang.Object-java.lang.Object-">equalOrNull</a></span>(java.lang.Object&nbsp;x,
           java.lang.Object&nbsp;y)</code>
<div class="block">Return true if two objects are equal or if both are null</div>
</td>
</tr>
<tr id="i20" class="altColor">
<td class="colFirst"><code>static int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../net/sf/saxon/expr/parser/ExpressionTool.html#expressionSize-net.sf.saxon.expr.Expression-">expressionSize</a></span>(<a href="../../../../../net/sf/saxon/expr/Expression.html" title="class in net.sf.saxon.expr">Expression</a>&nbsp;exp)</code>
<div class="block">Get the size of an expression tree (the number of subexpressions it contains)</div>
</td>
</tr>
<tr id="i21" class="rowColor">
<td class="colFirst"><code>static boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../net/sf/saxon/expr/parser/ExpressionTool.html#factorOutDot-net.sf.saxon.expr.Expression-net.sf.saxon.expr.Binding-">factorOutDot</a></span>(<a href="../../../../../net/sf/saxon/expr/Expression.html" title="class in net.sf.saxon.expr">Expression</a>&nbsp;exp,
            <a href="../../../../../net/sf/saxon/expr/Binding.html" title="interface in net.sf.saxon.expr">Binding</a>&nbsp;variable)</code>
<div class="block">Replace references to the context item with references to a variable</div>
</td>
</tr>
<tr id="i22" class="altColor">
<td class="colFirst"><code>static <a href="../../../../../net/sf/saxon/expr/Operand.html" title="class in net.sf.saxon.expr">Operand</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../net/sf/saxon/expr/parser/ExpressionTool.html#findOperand-net.sf.saxon.expr.Expression-net.sf.saxon.expr.Expression-">findOperand</a></span>(<a href="../../../../../net/sf/saxon/expr/Expression.html" title="class in net.sf.saxon.expr">Expression</a>&nbsp;parentExpression,
           <a href="../../../../../net/sf/saxon/expr/Expression.html" title="class in net.sf.saxon.expr">Expression</a>&nbsp;childExpression)</code>
<div class="block">Find the operand corresponding to a particular child expression</div>
</td>
</tr>
<tr id="i23" class="rowColor">
<td class="colFirst"><code>static void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../net/sf/saxon/expr/parser/ExpressionTool.html#gatherCalledFunctionNames-net.sf.saxon.expr.Expression-java.util.List-">gatherCalledFunctionNames</a></span>(<a href="../../../../../net/sf/saxon/expr/Expression.html" title="class in net.sf.saxon.expr">Expression</a>&nbsp;e,
                         java.util.List&lt;<a href="../../../../../net/sf/saxon/trans/SymbolicName.html" title="class in net.sf.saxon.trans">SymbolicName</a>&gt;&nbsp;list)</code>
<div class="block">Gather a list of the names of the user-defined functions which a given expression calls directly</div>
</td>
</tr>
<tr id="i24" class="altColor">
<td class="colFirst"><code>static void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../net/sf/saxon/expr/parser/ExpressionTool.html#gatherCalledFunctions-net.sf.saxon.expr.Expression-java.util.List-">gatherCalledFunctions</a></span>(<a href="../../../../../net/sf/saxon/expr/Expression.html" title="class in net.sf.saxon.expr">Expression</a>&nbsp;e,
                     java.util.List&lt;<a href="../../../../../net/sf/saxon/expr/instruct/UserFunction.html" title="class in net.sf.saxon.expr.instruct">UserFunction</a>&gt;&nbsp;list)</code>
<div class="block">Gather a list of all the user-defined functions which a given expression calls directly</div>
</td>
</tr>
<tr id="i25" class="rowColor">
<td class="colFirst"><code>static void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../net/sf/saxon/expr/parser/ExpressionTool.html#gatherReferencedVariables-net.sf.saxon.expr.Expression-java.util.List-">gatherReferencedVariables</a></span>(<a href="../../../../../net/sf/saxon/expr/Expression.html" title="class in net.sf.saxon.expr">Expression</a>&nbsp;e,
                         java.util.List&lt;<a href="../../../../../net/sf/saxon/expr/Binding.html" title="interface in net.sf.saxon.expr">Binding</a>&gt;&nbsp;list)</code>
<div class="block">Gather a list of all the variable bindings on which a given expression depends.</div>
</td>
</tr>
<tr id="i26" class="altColor">
<td class="colFirst"><code>static void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../net/sf/saxon/expr/parser/ExpressionTool.html#gatherVariableReferences-net.sf.saxon.expr.Expression-net.sf.saxon.expr.Binding-java.util.List-">gatherVariableReferences</a></span>(<a href="../../../../../net/sf/saxon/expr/Expression.html" title="class in net.sf.saxon.expr">Expression</a>&nbsp;exp,
                        <a href="../../../../../net/sf/saxon/expr/Binding.html" title="interface in net.sf.saxon.expr">Binding</a>&nbsp;binding,
                        java.util.List&lt;<a href="../../../../../net/sf/saxon/expr/VariableReference.html" title="class in net.sf.saxon.expr">VariableReference</a>&gt;&nbsp;list)</code>
<div class="block">Get a list of all references to a particular variable within a subtree</div>
</td>
</tr>
<tr id="i27" class="rowColor">
<td class="colFirst"><code>static java.net.URI</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../net/sf/saxon/expr/parser/ExpressionTool.html#getBaseURI-net.sf.saxon.expr.StaticContext-javax.xml.transform.SourceLocator-boolean-">getBaseURI</a></span>(<a href="../../../../../net/sf/saxon/expr/StaticContext.html" title="interface in net.sf.saxon.expr">StaticContext</a>&nbsp;env,
          javax.xml.transform.SourceLocator&nbsp;locator,
          boolean&nbsp;fail)</code>
<div class="block">Determine the base URI of an expression, so that it can be saved on the expression tree for use
 when the expression is evaluated</div>
</td>
</tr>
<tr id="i28" class="altColor">
<td class="colFirst"><code>static <a href="../../../../../net/sf/saxon/expr/Expression.html" title="class in net.sf.saxon.expr">Expression</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../net/sf/saxon/expr/parser/ExpressionTool.html#getContextDocumentSettingContainer-net.sf.saxon.expr.Expression-">getContextDocumentSettingContainer</a></span>(<a href="../../../../../net/sf/saxon/expr/Expression.html" title="class in net.sf.saxon.expr">Expression</a>&nbsp;exp)</code>
<div class="block">Get the context-document-setting container of an expression.</div>
</td>
</tr>
<tr id="i29" class="rowColor">
<td class="colFirst"><code>static java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../net/sf/saxon/expr/parser/ExpressionTool.html#getCurrentDirectory--">getCurrentDirectory</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i30" class="altColor">
<td class="colFirst"><code>static <a href="../../../../../net/sf/saxon/expr/Expression.html" title="class in net.sf.saxon.expr">Expression</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../net/sf/saxon/expr/parser/ExpressionTool.html#getFocusSettingContainer-net.sf.saxon.expr.Expression-">getFocusSettingContainer</a></span>(<a href="../../../../../net/sf/saxon/expr/Expression.html" title="class in net.sf.saxon.expr">Expression</a>&nbsp;exp)</code>
<div class="block">Get the focus-setting container of an expression

      *</div>
</td>
</tr>
<tr id="i31" class="rowColor">
<td class="colFirst"><code>static <a href="../../../../../net/sf/saxon/om/Item.html" title="interface in net.sf.saxon.om">Item</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../net/sf/saxon/expr/parser/ExpressionTool.html#getItemFromProcessMethod-net.sf.saxon.expr.Expression-net.sf.saxon.expr.XPathContext-">getItemFromProcessMethod</a></span>(<a href="../../../../../net/sf/saxon/expr/Expression.html" title="class in net.sf.saxon.expr">Expression</a>&nbsp;exp,
                        <a href="../../../../../net/sf/saxon/expr/XPathContext.html" title="interface in net.sf.saxon.expr">XPathContext</a>&nbsp;context)</code>
<div class="block">Helper method to construct an item representing the results of the expression when all that
 the expression itself offers is a process() method.</div>
</td>
</tr>
<tr id="i32" class="altColor">
<td class="colFirst"><code>static <a href="../../../../../net/sf/saxon/om/SequenceIterator.html" title="interface in net.sf.saxon.om">SequenceIterator</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../net/sf/saxon/expr/parser/ExpressionTool.html#getIteratorFromProcessMethod-net.sf.saxon.expr.Expression-net.sf.saxon.expr.XPathContext-">getIteratorFromProcessMethod</a></span>(<a href="../../../../../net/sf/saxon/expr/Expression.html" title="class in net.sf.saxon.expr">Expression</a>&nbsp;exp,
                            <a href="../../../../../net/sf/saxon/expr/XPathContext.html" title="interface in net.sf.saxon.expr">XPathContext</a>&nbsp;context)</code>
<div class="block">Helper method to construct an iterator over the results of the expression when all that
 the expression itself offers is a process() method.</div>
</td>
</tr>
<tr id="i33" class="rowColor">
<td class="colFirst"><code>static int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../net/sf/saxon/expr/parser/ExpressionTool.html#getReferenceCount-net.sf.saxon.expr.Expression-net.sf.saxon.expr.Binding-boolean-">getReferenceCount</a></span>(<a href="../../../../../net/sf/saxon/expr/Expression.html" title="class in net.sf.saxon.expr">Expression</a>&nbsp;exp,
                 <a href="../../../../../net/sf/saxon/expr/Binding.html" title="interface in net.sf.saxon.expr">Binding</a>&nbsp;binding,
                 boolean&nbsp;inLoop)</code>
<div class="block">Determine how often a variable is referenced.</div>
</td>
</tr>
<tr id="i34" class="altColor">
<td class="colFirst"><code>static boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../net/sf/saxon/expr/parser/ExpressionTool.html#hasLoopingSubexpression-net.sf.saxon.expr.Expression-net.sf.saxon.expr.Expression-">hasLoopingSubexpression</a></span>(<a href="../../../../../net/sf/saxon/expr/Expression.html" title="class in net.sf.saxon.expr">Expression</a>&nbsp;parent,
                       <a href="../../../../../net/sf/saxon/expr/Expression.html" title="class in net.sf.saxon.expr">Expression</a>&nbsp;child)</code>&nbsp;</td>
</tr>
<tr id="i35" class="rowColor">
<td class="colFirst"><code>static java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../net/sf/saxon/expr/parser/ExpressionTool.html#indent-int-">indent</a></span>(int&nbsp;level)</code>
<div class="block">Construct indent string, for diagnostic output</div>
</td>
</tr>
<tr id="i36" class="altColor">
<td class="colFirst"><code>static <a href="../../../../../net/sf/saxon/expr/Expression.html" title="class in net.sf.saxon.expr">Expression</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../net/sf/saxon/expr/parser/ExpressionTool.html#injectCode-net.sf.saxon.expr.Expression-net.sf.saxon.expr.parser.CodeInjector-">injectCode</a></span>(<a href="../../../../../net/sf/saxon/expr/Expression.html" title="class in net.sf.saxon.expr">Expression</a>&nbsp;exp,
          <a href="../../../../../net/sf/saxon/expr/parser/CodeInjector.html" title="interface in net.sf.saxon.expr.parser">CodeInjector</a>&nbsp;injector)</code>
<div class="block">Inject extra code into an expression, recursively, by applying a supplied <a href="../../../../../net/sf/saxon/expr/parser/CodeInjector.html" title="interface in net.sf.saxon.expr.parser"><code>CodeInjector</code></a>
 to every expression (and FLWOR clause) in the subtree</div>
</td>
</tr>
<tr id="i37" class="rowColor">
<td class="colFirst"><code>static boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../net/sf/saxon/expr/parser/ExpressionTool.html#inlineVariableReferences-net.sf.saxon.expr.Expression-net.sf.saxon.expr.Binding-net.sf.saxon.expr.Expression-">inlineVariableReferences</a></span>(<a href="../../../../../net/sf/saxon/expr/Expression.html" title="class in net.sf.saxon.expr">Expression</a>&nbsp;expr,
                        <a href="../../../../../net/sf/saxon/expr/Binding.html" title="interface in net.sf.saxon.expr">Binding</a>&nbsp;binding,
                        <a href="../../../../../net/sf/saxon/expr/Expression.html" title="class in net.sf.saxon.expr">Expression</a>&nbsp;replacement)</code>
<div class="block">Inline variable references.</div>
</td>
</tr>
<tr id="i38" class="altColor">
<td class="colFirst"><code>static boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../net/sf/saxon/expr/parser/ExpressionTool.html#inlineVariableReferencesInternal-net.sf.saxon.expr.Expression-net.sf.saxon.expr.Binding-net.sf.saxon.expr.Expression-">inlineVariableReferencesInternal</a></span>(<a href="../../../../../net/sf/saxon/expr/Expression.html" title="class in net.sf.saxon.expr">Expression</a>&nbsp;expr,
                                <a href="../../../../../net/sf/saxon/expr/Binding.html" title="interface in net.sf.saxon.expr">Binding</a>&nbsp;binding,
                                <a href="../../../../../net/sf/saxon/expr/Expression.html" title="class in net.sf.saxon.expr">Expression</a>&nbsp;replacement)</code>&nbsp;</td>
</tr>
<tr id="i39" class="rowColor">
<td class="colFirst"><code>static boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../net/sf/saxon/expr/parser/ExpressionTool.html#isCallOnSystemFunction-net.sf.saxon.expr.Expression-java.lang.String-">isCallOnSystemFunction</a></span>(<a href="../../../../../net/sf/saxon/expr/Expression.html" title="class in net.sf.saxon.expr">Expression</a>&nbsp;e,
                      java.lang.String&nbsp;localName)</code>&nbsp;</td>
</tr>
<tr id="i40" class="altColor">
<td class="colFirst"><code>static boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../net/sf/saxon/expr/parser/ExpressionTool.html#isLocalConstructor-net.sf.saxon.expr.Expression-">isLocalConstructor</a></span>(<a href="../../../../../net/sf/saxon/expr/Expression.html" title="class in net.sf.saxon.expr">Expression</a>&nbsp;child)</code>
<div class="block">Ask whether a supplied expression is a nested node constructor.</div>
</td>
</tr>
<tr id="i41" class="rowColor">
<td class="colFirst"><code>static boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../net/sf/saxon/expr/parser/ExpressionTool.html#isLoopingReference-net.sf.saxon.expr.VariableReference-net.sf.saxon.expr.Binding-">isLoopingReference</a></span>(<a href="../../../../../net/sf/saxon/expr/VariableReference.html" title="class in net.sf.saxon.expr">VariableReference</a>&nbsp;reference,
                  <a href="../../../../../net/sf/saxon/expr/Binding.html" title="interface in net.sf.saxon.expr">Binding</a>&nbsp;binding)</code>&nbsp;</td>
</tr>
<tr id="i42" class="altColor">
<td class="colFirst"><code>static boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../net/sf/saxon/expr/parser/ExpressionTool.html#isLoopingSubexpression-net.sf.saxon.expr.Expression-net.sf.saxon.expr.Expression-">isLoopingSubexpression</a></span>(<a href="../../../../../net/sf/saxon/expr/Expression.html" title="class in net.sf.saxon.expr">Expression</a>&nbsp;child,
                      <a href="../../../../../net/sf/saxon/expr/Expression.html" title="class in net.sf.saxon.expr">Expression</a>&nbsp;ancestor)</code>
<div class="block">Return true if a given expression is evaluated repeatedly
 when a given ancestor expression is evaluated once</div>
</td>
</tr>
<tr id="i43" class="rowColor">
<td class="colFirst"><code>static boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../net/sf/saxon/expr/parser/ExpressionTool.html#isNotAllowedInUpdatingContext-net.sf.saxon.expr.Expression-">isNotAllowedInUpdatingContext</a></span>(<a href="../../../../../net/sf/saxon/expr/Expression.html" title="class in net.sf.saxon.expr">Expression</a>&nbsp;exp)</code>
<div class="block">Determine whether the expression is either an updating expression, or an expression that is permitted
 in a context where updating expressions are allowed</div>
</td>
</tr>
<tr id="i44" class="altColor">
<td class="colFirst"><code>static <a href="../../../../../net/sf/saxon/om/Sequence.html" title="interface in net.sf.saxon.om">Sequence</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../net/sf/saxon/expr/parser/ExpressionTool.html#lazyEvaluate-net.sf.saxon.expr.Expression-net.sf.saxon.expr.XPathContext-boolean-">lazyEvaluate</a></span>(<a href="../../../../../net/sf/saxon/expr/Expression.html" title="class in net.sf.saxon.expr">Expression</a>&nbsp;exp,
            <a href="../../../../../net/sf/saxon/expr/XPathContext.html" title="interface in net.sf.saxon.expr">XPathContext</a>&nbsp;context,
            boolean&nbsp;repeatable)</code>
<div class="block">Do lazy evaluation of an expression.</div>
</td>
</tr>
<tr id="i45" class="rowColor">
<td class="colFirst"><code>static <a href="../../../../../net/sf/saxon/expr/parser/Evaluator.html" title="class in net.sf.saxon.expr.parser">Evaluator</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../net/sf/saxon/expr/parser/ExpressionTool.html#lazyEvaluator-net.sf.saxon.expr.Expression-boolean-">lazyEvaluator</a></span>(<a href="../../../../../net/sf/saxon/expr/Expression.html" title="class in net.sf.saxon.expr">Expression</a>&nbsp;exp,
             boolean&nbsp;repeatable)</code>
<div class="block">Get an expression evaluator to be used when lazy evaluation of an expression is
 preferred.</div>
</td>
</tr>
<tr id="i46" class="altColor">
<td class="colFirst"><code>static <a href="../../../../../net/sf/saxon/expr/Expression.html" title="class in net.sf.saxon.expr">Expression</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../net/sf/saxon/expr/parser/ExpressionTool.html#make-java.lang.String-net.sf.saxon.expr.StaticContext-int-int-net.sf.saxon.expr.parser.CodeInjector-">make</a></span>(java.lang.String&nbsp;expression,
    <a href="../../../../../net/sf/saxon/expr/StaticContext.html" title="interface in net.sf.saxon.expr">StaticContext</a>&nbsp;env,
    int&nbsp;start,
    int&nbsp;terminator,
    <a href="../../../../../net/sf/saxon/expr/parser/CodeInjector.html" title="interface in net.sf.saxon.expr.parser">CodeInjector</a>&nbsp;codeInjector)</code>
<div class="block">Parse an XPath expression.</div>
</td>
</tr>
<tr id="i47" class="rowColor">
<td class="colFirst"><code>static <a href="../../../../../net/sf/saxon/expr/Expression.html" title="class in net.sf.saxon.expr">Expression</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../net/sf/saxon/expr/parser/ExpressionTool.html#makePathExpression-net.sf.saxon.expr.Expression-net.sf.saxon.expr.Expression-">makePathExpression</a></span>(<a href="../../../../../net/sf/saxon/expr/Expression.html" title="class in net.sf.saxon.expr">Expression</a>&nbsp;start,
                  <a href="../../../../../net/sf/saxon/expr/Expression.html" title="class in net.sf.saxon.expr">Expression</a>&nbsp;step)</code>
<div class="block">Make a mapping expression.</div>
</td>
</tr>
<tr id="i48" class="altColor">
<td class="colFirst"><code>static int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../net/sf/saxon/expr/parser/ExpressionTool.html#markTailFunctionCalls-net.sf.saxon.expr.Expression-net.sf.saxon.om.StructuredQName-int-">markTailFunctionCalls</a></span>(<a href="../../../../../net/sf/saxon/expr/Expression.html" title="class in net.sf.saxon.expr">Expression</a>&nbsp;exp,
                     <a href="../../../../../net/sf/saxon/om/StructuredQName.html" title="class in net.sf.saxon.om">StructuredQName</a>&nbsp;qName,
                     int&nbsp;arity)</code>
<div class="block">Scan an expression to find and mark any recursive tail function calls</div>
</td>
</tr>
<tr id="i49" class="rowColor">
<td class="colFirst"><code>static <a href="../../../../../net/sf/saxon/expr/Expression.html" title="class in net.sf.saxon.expr">Expression</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../net/sf/saxon/expr/parser/ExpressionTool.html#optimizeComponentBody-net.sf.saxon.expr.Expression-net.sf.saxon.style.Compilation-net.sf.saxon.expr.parser.ExpressionVisitor-net.sf.saxon.expr.parser.ContextItemStaticInfo-boolean-">optimizeComponentBody</a></span>(<a href="../../../../../net/sf/saxon/expr/Expression.html" title="class in net.sf.saxon.expr">Expression</a>&nbsp;body,
                     <a href="../../../../../net/sf/saxon/style/Compilation.html" title="class in net.sf.saxon.style">Compilation</a>&nbsp;compilation,
                     <a href="../../../../../net/sf/saxon/expr/parser/ExpressionVisitor.html" title="class in net.sf.saxon.expr.parser">ExpressionVisitor</a>&nbsp;visitor,
                     <a href="../../../../../net/sf/saxon/expr/parser/ContextItemStaticInfo.html" title="class in net.sf.saxon.expr.parser">ContextItemStaticInfo</a>&nbsp;cisi,
                     boolean&nbsp;extractGlobals)</code>
<div class="block">Optimize the implementation of a component such as a function, template, or global variable</div>
</td>
</tr>
<tr id="i50" class="altColor">
<td class="colFirst"><code>static java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../net/sf/saxon/expr/parser/ExpressionTool.html#parenthesize-net.sf.saxon.expr.Expression-">parenthesize</a></span>(<a href="../../../../../net/sf/saxon/expr/Expression.html" title="class in net.sf.saxon.expr">Expression</a>&nbsp;exp)</code>
<div class="block">Display an expression adding parentheses if it is possible they are necessary
 because the expression has sub-expressions</div>
</td>
</tr>
<tr id="i51" class="rowColor">
<td class="colFirst"><code>static java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../net/sf/saxon/expr/parser/ExpressionTool.html#parenthesizeShort-net.sf.saxon.expr.Expression-">parenthesizeShort</a></span>(<a href="../../../../../net/sf/saxon/expr/Expression.html" title="class in net.sf.saxon.expr">Expression</a>&nbsp;exp)</code>&nbsp;</td>
</tr>
<tr id="i52" class="altColor">
<td class="colFirst"><code>static boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../net/sf/saxon/expr/parser/ExpressionTool.html#processExpressionTree-net.sf.saxon.expr.Expression-java.lang.Object-net.sf.saxon.expr.parser.ExpressionAction-">processExpressionTree</a></span>(<a href="../../../../../net/sf/saxon/expr/Expression.html" title="class in net.sf.saxon.expr">Expression</a>&nbsp;root,
                     java.lang.Object&nbsp;result,
                     <a href="../../../../../net/sf/saxon/expr/parser/ExpressionAction.html" title="interface in net.sf.saxon.expr.parser">ExpressionAction</a>&nbsp;action)</code>
<div class="block">Process every node on a subtree of the expression tree using a supplied action.</div>
</td>
</tr>
<tr id="i53" class="rowColor">
<td class="colFirst"><code>static void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../net/sf/saxon/expr/parser/ExpressionTool.html#rebindVariableReferences-net.sf.saxon.expr.Expression-net.sf.saxon.expr.Binding-net.sf.saxon.expr.Binding-">rebindVariableReferences</a></span>(<a href="../../../../../net/sf/saxon/expr/Expression.html" title="class in net.sf.saxon.expr">Expression</a>&nbsp;exp,
                        <a href="../../../../../net/sf/saxon/expr/Binding.html" title="interface in net.sf.saxon.expr">Binding</a>&nbsp;oldBinding,
                        <a href="../../../../../net/sf/saxon/expr/Binding.html" title="interface in net.sf.saxon.expr">Binding</a>&nbsp;newBinding)</code>
<div class="block">Rebind all variable references to a binding</div>
</td>
</tr>
<tr id="i54" class="altColor">
<td class="colFirst"><code>static boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../net/sf/saxon/expr/parser/ExpressionTool.html#refersToVariableOrFunction-net.sf.saxon.expr.Expression-">refersToVariableOrFunction</a></span>(<a href="../../../../../net/sf/saxon/expr/Expression.html" title="class in net.sf.saxon.expr">Expression</a>&nbsp;exp)</code>
<div class="block">Determine whether the expression contains any variable references or calls to user-written functions</div>
</td>
</tr>
<tr id="i55" class="rowColor">
<td class="colFirst"><code>static boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../net/sf/saxon/expr/parser/ExpressionTool.html#replaceCallsToCurrent-net.sf.saxon.expr.Expression-net.sf.saxon.expr.LocalBinding-">replaceCallsToCurrent</a></span>(<a href="../../../../../net/sf/saxon/expr/Expression.html" title="class in net.sf.saxon.expr">Expression</a>&nbsp;expr,
                     <a href="../../../../../net/sf/saxon/expr/LocalBinding.html" title="interface in net.sf.saxon.expr">LocalBinding</a>&nbsp;binding)</code>
<div class="block">Replace calls to current() by a variable reference.</div>
</td>
</tr>
<tr id="i56" class="altColor">
<td class="colFirst"><code>static boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../net/sf/saxon/expr/parser/ExpressionTool.html#replaceSelectedSubexpressions-net.sf.saxon.expr.Expression-net.sf.saxon.expr.parser.ExpressionTool.ExpressionSelector-net.sf.saxon.expr.Expression-boolean-">replaceSelectedSubexpressions</a></span>(<a href="../../../../../net/sf/saxon/expr/Expression.html" title="class in net.sf.saxon.expr">Expression</a>&nbsp;exp,
                             <a href="../../../../../net/sf/saxon/expr/parser/ExpressionTool.ExpressionSelector.html" title="interface in net.sf.saxon.expr.parser">ExpressionTool.ExpressionSelector</a>&nbsp;selector,
                             <a href="../../../../../net/sf/saxon/expr/Expression.html" title="class in net.sf.saxon.expr">Expression</a>&nbsp;replacement,
                             boolean&nbsp;mustCopy)</code>
<div class="block">Replace all selected subexpressions within a subtree</div>
</td>
</tr>
<tr id="i57" class="rowColor">
<td class="colFirst"><code>static boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../net/sf/saxon/expr/parser/ExpressionTool.html#replaceTrivialCallsToCurrent-net.sf.saxon.expr.Expression-">replaceTrivialCallsToCurrent</a></span>(<a href="../../../../../net/sf/saxon/expr/Expression.html" title="class in net.sf.saxon.expr">Expression</a>&nbsp;expr)</code>
<div class="block">Replace trivial calls to current() by a context item expression (<code>.</code>).</div>
</td>
</tr>
<tr id="i58" class="altColor">
<td class="colFirst"><code>static void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../net/sf/saxon/expr/parser/ExpressionTool.html#replaceVariableReferences-net.sf.saxon.expr.Expression-net.sf.saxon.expr.Binding-net.sf.saxon.expr.Expression-boolean-">replaceVariableReferences</a></span>(<a href="../../../../../net/sf/saxon/expr/Expression.html" title="class in net.sf.saxon.expr">Expression</a>&nbsp;exp,
                         <a href="../../../../../net/sf/saxon/expr/Binding.html" title="interface in net.sf.saxon.expr">Binding</a>&nbsp;binding,
                         <a href="../../../../../net/sf/saxon/expr/Expression.html" title="class in net.sf.saxon.expr">Expression</a>&nbsp;replacement,
                         boolean&nbsp;mustCopy)</code>
<div class="block">Replace all references to a particular variable within a subtree</div>
</td>
</tr>
<tr id="i59" class="rowColor">
<td class="colFirst"><code>static void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../net/sf/saxon/expr/parser/ExpressionTool.html#resetPropertiesWithinSubtree-net.sf.saxon.expr.Expression-">resetPropertiesWithinSubtree</a></span>(<a href="../../../../../net/sf/saxon/expr/Expression.html" title="class in net.sf.saxon.expr">Expression</a>&nbsp;exp)</code>
<div class="block">Reset cached static properties within a subtree, meaning that they have to be
 recalulated next time they are required</div>
</td>
</tr>
<tr id="i60" class="altColor">
<td class="colFirst"><code>static void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../net/sf/saxon/expr/parser/ExpressionTool.html#resetStaticProperties-net.sf.saxon.expr.Expression-">resetStaticProperties</a></span>(<a href="../../../../../net/sf/saxon/expr/Expression.html" title="class in net.sf.saxon.expr">Expression</a>&nbsp;exp)</code>
<div class="block">Reset the static properties for the current expression and for all its containing expressions.</div>
</td>
</tr>
<tr id="i61" class="rowColor">
<td class="colFirst"><code>static <a href="../../../../../net/sf/saxon/expr/Expression.html" title="class in net.sf.saxon.expr">Expression</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../net/sf/saxon/expr/parser/ExpressionTool.html#resolveCallsToCurrentFunction-net.sf.saxon.expr.Expression-">resolveCallsToCurrentFunction</a></span>(<a href="../../../../../net/sf/saxon/expr/Expression.html" title="class in net.sf.saxon.expr">Expression</a>&nbsp;exp)</code>
<div class="block">Resolve calls to the XSLT current() function within an expression</div>
</td>
</tr>
<tr id="i62" class="altColor">
<td class="colFirst"><code>static void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../net/sf/saxon/expr/parser/ExpressionTool.html#setDeepRetainedStaticContext-net.sf.saxon.expr.Expression-net.sf.saxon.expr.parser.RetainedStaticContext-">setDeepRetainedStaticContext</a></span>(<a href="../../../../../net/sf/saxon/expr/Expression.html" title="class in net.sf.saxon.expr">Expression</a>&nbsp;exp,
                            <a href="../../../../../net/sf/saxon/expr/parser/RetainedStaticContext.html" title="class in net.sf.saxon.expr.parser">RetainedStaticContext</a>&nbsp;rsc)</code>
<div class="block">Ensure that every node in the expression tree has a retained static context.</div>
</td>
</tr>
<tr id="i63" class="rowColor">
<td class="colFirst"><code>static <a href="../../../../../net/sf/saxon/expr/Expression.html" title="class in net.sf.saxon.expr">Expression</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../net/sf/saxon/expr/parser/ExpressionTool.html#tryToFactorOutDot-net.sf.saxon.expr.Expression-net.sf.saxon.type.ItemType-">tryToFactorOutDot</a></span>(<a href="../../../../../net/sf/saxon/expr/Expression.html" title="class in net.sf.saxon.expr">Expression</a>&nbsp;exp,
                 <a href="../../../../../net/sf/saxon/type/ItemType.html" title="interface in net.sf.saxon.type">ItemType</a>&nbsp;contextItemType)</code>
<div class="block">Try to factor out dependencies on the context item, by rewriting an expression f(.) as
 let $dot := .</div>
</td>
</tr>
<tr id="i64" class="altColor">
<td class="colFirst"><code>static <a href="../../../../../net/sf/saxon/expr/Expression.html" title="class in net.sf.saxon.expr">Expression</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../net/sf/saxon/expr/parser/ExpressionTool.html#unfilteredExpression-net.sf.saxon.expr.Expression-boolean-">unfilteredExpression</a></span>(<a href="../../../../../net/sf/saxon/expr/Expression.html" title="class in net.sf.saxon.expr">Expression</a>&nbsp;exp,
                    boolean&nbsp;allowPositional)</code>
<div class="block">Get the expression that remains after removing any filter predicates</div>
</td>
</tr>
<tr id="i65" class="rowColor">
<td class="colFirst"><code>static <a href="../../../../../net/sf/saxon/expr/Expression.html" title="class in net.sf.saxon.expr">Expression</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../net/sf/saxon/expr/parser/ExpressionTool.html#unsortedIfHomogeneous-net.sf.saxon.expr.Expression-boolean-">unsortedIfHomogeneous</a></span>(<a href="../../../../../net/sf/saxon/expr/Expression.html" title="class in net.sf.saxon.expr">Expression</a>&nbsp;exp,
                     boolean&nbsp;forStreaming)</code>
<div class="block">Remove unwanted sorting from an expression, at compile time, if and only if it is known
 that the result of the expression will be homogeneous (all nodes, or all atomic values).</div>
</td>
</tr>
<tr id="i66" class="altColor">
<td class="colFirst"><code>static void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../net/sf/saxon/expr/parser/ExpressionTool.html#validateTree-net.sf.saxon.expr.Expression-">validateTree</a></span>(<a href="../../../../../net/sf/saxon/expr/Expression.html" title="class in net.sf.saxon.expr">Expression</a>&nbsp;exp)</code>&nbsp;</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="make-java.lang.String-net.sf.saxon.expr.StaticContext-int-int-net.sf.saxon.expr.parser.CodeInjector-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>make</h4>
<pre>public static&nbsp;<a href="../../../../../net/sf/saxon/expr/Expression.html" title="class in net.sf.saxon.expr">Expression</a>&nbsp;make(java.lang.String&nbsp;expression,
                              <a href="../../../../../net/sf/saxon/expr/StaticContext.html" title="interface in net.sf.saxon.expr">StaticContext</a>&nbsp;env,
                              int&nbsp;start,
                              int&nbsp;terminator,
                              <a href="../../../../../net/sf/saxon/expr/parser/CodeInjector.html" title="interface in net.sf.saxon.expr.parser">CodeInjector</a>&nbsp;codeInjector)
                       throws <a href="../../../../../net/sf/saxon/trans/XPathException.html" title="class in net.sf.saxon.trans">XPathException</a></pre>
<div class="block">Parse an XPath expression. This performs the basic analysis of the expression against the
 grammar, it binds variable references and function calls to variable definitions and
 function definitions, and it performs context-independent expression rewriting for
 optimization purposes.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>expression</code> - The expression (as a character string)</dd>
<dd><code>env</code> - An object giving information about the compile-time
                     context of the expression</dd>
<dd><code>start</code> - position of the first significant character in the expression</dd>
<dd><code>terminator</code> - The token that marks the end of this expression; typically
                     Token.EOF, but may for example be a right curly brace</dd>
<dd><code>codeInjector</code> - true  allows injection of tracing, debugging, or performance monitoring code; null if
                     not required</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>an object of type Expression</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../net/sf/saxon/trans/XPathException.html" title="class in net.sf.saxon.trans">XPathException</a></code> - if the expression contains a static error</dd>
</dl>
</li>
</ul>
<a name="setDeepRetainedStaticContext-net.sf.saxon.expr.Expression-net.sf.saxon.expr.parser.RetainedStaticContext-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setDeepRetainedStaticContext</h4>
<pre>public static&nbsp;void&nbsp;setDeepRetainedStaticContext(<a href="../../../../../net/sf/saxon/expr/Expression.html" title="class in net.sf.saxon.expr">Expression</a>&nbsp;exp,
                                                <a href="../../../../../net/sf/saxon/expr/parser/RetainedStaticContext.html" title="class in net.sf.saxon.expr.parser">RetainedStaticContext</a>&nbsp;rsc)</pre>
<div class="block">Ensure that every node in the expression tree has a retained static context.
 A node that already has a retained static context will propagate it to its children.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>exp</code> - the root of the expression tree</dd>
<dd><code>rsc</code> - the retained static context to be applied to nodes that do not already have one,
            and that do not have an ancestor with an existing retained static context.</dd>
</dl>
</li>
</ul>
<a name="copyLocationInfo-net.sf.saxon.expr.Expression-net.sf.saxon.expr.Expression-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>copyLocationInfo</h4>
<pre>public static&nbsp;void&nbsp;copyLocationInfo(<a href="../../../../../net/sf/saxon/expr/Expression.html" title="class in net.sf.saxon.expr">Expression</a>&nbsp;from,
                                    <a href="../../../../../net/sf/saxon/expr/Expression.html" title="class in net.sf.saxon.expr">Expression</a>&nbsp;to)</pre>
<div class="block">Copy location information (the line number and reference to the container) from one expression
 to another</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>from</code> - the expression containing the location information</dd>
<dd><code>to</code> - the expression to which the information is to be copied</dd>
</dl>
</li>
</ul>
<a name="unsortedIfHomogeneous-net.sf.saxon.expr.Expression-boolean-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>unsortedIfHomogeneous</h4>
<pre>public static&nbsp;<a href="../../../../../net/sf/saxon/expr/Expression.html" title="class in net.sf.saxon.expr">Expression</a>&nbsp;unsortedIfHomogeneous(<a href="../../../../../net/sf/saxon/expr/Expression.html" title="class in net.sf.saxon.expr">Expression</a>&nbsp;exp,
                                               boolean&nbsp;forStreaming)
                                        throws <a href="../../../../../net/sf/saxon/trans/XPathException.html" title="class in net.sf.saxon.trans">XPathException</a></pre>
<div class="block">Remove unwanted sorting from an expression, at compile time, if and only if it is known
 that the result of the expression will be homogeneous (all nodes, or all atomic values).
 This is done when we need the effective boolean value of a sequence: the EBV of a
 homogenous sequence does not depend on its order, but this is not true when atomic
 values and nodes are mixed: (N, AV) is true, but (AV, N) is an error.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>exp</code> - the expression to be optimized</dd>
<dd><code>forStreaming</code> - true if streamed evaluation of the expression is required</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the expression after rewriting</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../net/sf/saxon/trans/XPathException.html" title="class in net.sf.saxon.trans">XPathException</a></code> - if a static error is found while doing the rewrite</dd>
</dl>
</li>
</ul>
<a name="injectCode-net.sf.saxon.expr.Expression-net.sf.saxon.expr.parser.CodeInjector-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>injectCode</h4>
<pre>public static&nbsp;<a href="../../../../../net/sf/saxon/expr/Expression.html" title="class in net.sf.saxon.expr">Expression</a>&nbsp;injectCode(<a href="../../../../../net/sf/saxon/expr/Expression.html" title="class in net.sf.saxon.expr">Expression</a>&nbsp;exp,
                                    <a href="../../../../../net/sf/saxon/expr/parser/CodeInjector.html" title="interface in net.sf.saxon.expr.parser">CodeInjector</a>&nbsp;injector)</pre>
<div class="block">Inject extra code into an expression, recursively, by applying a supplied <a href="../../../../../net/sf/saxon/expr/parser/CodeInjector.html" title="interface in net.sf.saxon.expr.parser"><code>CodeInjector</code></a>
 to every expression (and FLWOR clause) in the subtree</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>exp</code> - the expression to be augmented with injected code</dd>
<dd><code>injector</code> - the code injector</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the augmented expression</dd>
</dl>
</li>
</ul>
<a name="lazyEvaluator-net.sf.saxon.expr.Expression-boolean-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>lazyEvaluator</h4>
<pre>public static&nbsp;<a href="../../../../../net/sf/saxon/expr/parser/Evaluator.html" title="class in net.sf.saxon.expr.parser">Evaluator</a>&nbsp;lazyEvaluator(<a href="../../../../../net/sf/saxon/expr/Expression.html" title="class in net.sf.saxon.expr">Expression</a>&nbsp;exp,
                                      boolean&nbsp;repeatable)</pre>
<div class="block">Get an expression evaluator to be used when lazy evaluation of an expression is
 preferred. This method is called at compile time, after all optimizations have been done,
 to determine the preferred strategy for lazy evaluation, depending on the type of expression.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>exp</code> - the expression to be evaluated</dd>
<dd><code>repeatable</code> - true if the returned value needs to be readable more than once</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>an expression evaluator</dd>
</dl>
</li>
</ul>
<a name="eagerEvaluator-net.sf.saxon.expr.Expression-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>eagerEvaluator</h4>
<pre>public static&nbsp;<a href="../../../../../net/sf/saxon/expr/parser/Evaluator.html" title="class in net.sf.saxon.expr.parser">Evaluator</a>&nbsp;eagerEvaluator(<a href="../../../../../net/sf/saxon/expr/Expression.html" title="class in net.sf.saxon.expr">Expression</a>&nbsp;exp)</pre>
<div class="block">Get the evaluator to be used when eager evaluation of an expression is
 preferred. This method is called at compile time, after all optimizations have been done,
 to determine the preferred strategy for lazy evaluation, depending on the type of expression.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>exp</code> - the expression to be evaluated</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>an integer constant identifying the evaluation mode</dd>
</dl>
</li>
</ul>
<a name="lazyEvaluate-net.sf.saxon.expr.Expression-net.sf.saxon.expr.XPathContext-boolean-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>lazyEvaluate</h4>
<pre>public static&nbsp;<a href="../../../../../net/sf/saxon/om/Sequence.html" title="interface in net.sf.saxon.om">Sequence</a>&nbsp;lazyEvaluate(<a href="../../../../../net/sf/saxon/expr/Expression.html" title="class in net.sf.saxon.expr">Expression</a>&nbsp;exp,
                                    <a href="../../../../../net/sf/saxon/expr/XPathContext.html" title="interface in net.sf.saxon.expr">XPathContext</a>&nbsp;context,
                                    boolean&nbsp;repeatable)
                             throws <a href="../../../../../net/sf/saxon/trans/XPathException.html" title="class in net.sf.saxon.trans">XPathException</a></pre>
<div class="block">Do lazy evaluation of an expression. This will return a value, which may optionally
 be a SequenceIntent, which is a wrapper around an iterator over the value of the expression.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>exp</code> - the expression to be evaluated</dd>
<dd><code>context</code> - the run-time evaluation context for the expression. If
                the expression is not evaluated immediately, then parts of the
                context on which the expression depends need to be saved as part of
                the Closure</dd>
<dd><code>repeatable</code> - an indication of how the value will be used. The value false indicates that the value
                is only expected to be used once, so that there is no need to keep it in memory. The value true
                indicates multiple references, so the value will be saved when first evaluated.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>a value: either the actual value obtained by evaluating the
 expression, or a Closure containing all the information needed to
 evaluate it later</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../net/sf/saxon/trans/XPathException.html" title="class in net.sf.saxon.trans">XPathException</a></code> - if any error occurs in evaluating the
                        expression</dd>
</dl>
</li>
</ul>
<a name="eagerEvaluate-net.sf.saxon.expr.Expression-net.sf.saxon.expr.XPathContext-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>eagerEvaluate</h4>
<pre>public static&nbsp;<a href="../../../../../net/sf/saxon/om/GroundedValue.html" title="interface in net.sf.saxon.om">GroundedValue</a>&nbsp;eagerEvaluate(<a href="../../../../../net/sf/saxon/expr/Expression.html" title="class in net.sf.saxon.expr">Expression</a>&nbsp;exp,
                                          <a href="../../../../../net/sf/saxon/expr/XPathContext.html" title="interface in net.sf.saxon.expr">XPathContext</a>&nbsp;context)
                                   throws <a href="../../../../../net/sf/saxon/trans/XPathException.html" title="class in net.sf.saxon.trans">XPathException</a></pre>
<div class="block">Evaluate an expression now; lazy evaluation is not permitted in this case</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>exp</code> - the expression to be evaluated</dd>
<dd><code>context</code> - the run-time evaluation context</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the result of evaluating the expression</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../net/sf/saxon/trans/XPathException.html" title="class in net.sf.saxon.trans">XPathException</a></code> - if any dynamic error occurs evaluating the
                                           expression</dd>
</dl>
</li>
</ul>
<a name="markTailFunctionCalls-net.sf.saxon.expr.Expression-net.sf.saxon.om.StructuredQName-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>markTailFunctionCalls</h4>
<pre>public static&nbsp;int&nbsp;markTailFunctionCalls(<a href="../../../../../net/sf/saxon/expr/Expression.html" title="class in net.sf.saxon.expr">Expression</a>&nbsp;exp,
                                        <a href="../../../../../net/sf/saxon/om/StructuredQName.html" title="class in net.sf.saxon.om">StructuredQName</a>&nbsp;qName,
                                        int&nbsp;arity)</pre>
<div class="block">Scan an expression to find and mark any recursive tail function calls</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>exp</code> - the expression to be analyzed</dd>
<dd><code>qName</code> - the name of the containing function</dd>
<dd><code>arity</code> - the arity of the containing function</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>0 if no tail call was found; 1 if a tail call to a different function was found;
 2 if a tail call to the specified function was found. In this case the
 UserFunctionCall object representing the tail function call will also have been marked as
 a tail call.</dd>
</dl>
</li>
</ul>
<a name="indent-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>indent</h4>
<pre>public static&nbsp;java.lang.String&nbsp;indent(int&nbsp;level)</pre>
<div class="block">Construct indent string, for diagnostic output</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>level</code> - the indentation level (the number of spaces to return)</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>a string of "level*2" spaces</dd>
</dl>
</li>
</ul>
<a name="contains-net.sf.saxon.expr.Expression-net.sf.saxon.expr.Expression-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>contains</h4>
<pre>public static&nbsp;boolean&nbsp;contains(<a href="../../../../../net/sf/saxon/expr/Expression.html" title="class in net.sf.saxon.expr">Expression</a>&nbsp;a,
                               <a href="../../../../../net/sf/saxon/expr/Expression.html" title="class in net.sf.saxon.expr">Expression</a>&nbsp;b)</pre>
<div class="block">Ask whether one expression is a subexpression of another</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>a</code> - the containing expression</dd>
<dd><code>b</code> - the putative contained expression</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>true if and only if b is a subexpression (at some level) of a</dd>
</dl>
</li>
</ul>
<a name="containsLocalParam-net.sf.saxon.expr.Expression-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>containsLocalParam</h4>
<pre>public static&nbsp;boolean&nbsp;containsLocalParam(<a href="../../../../../net/sf/saxon/expr/Expression.html" title="class in net.sf.saxon.expr">Expression</a>&nbsp;exp)</pre>
<div class="block">Determine whether an expression contains a LocalParamSetter subexpression</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>exp</code> - the expression to be tested</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>true if the exprssion contains a local parameter setter</dd>
</dl>
</li>
</ul>
<a name="containsLocalVariableReference-net.sf.saxon.expr.Expression-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>containsLocalVariableReference</h4>
<pre>public static&nbsp;boolean&nbsp;containsLocalVariableReference(<a href="../../../../../net/sf/saxon/expr/Expression.html" title="class in net.sf.saxon.expr">Expression</a>&nbsp;exp)</pre>
<div class="block">Determine whether an expression contains a local variable reference,
 other than a reference to a local variable whose binding occurs
 within this expression</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>exp</code> - the expression to be tested</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>true if the expression contains a local variable reference to a local
 variable declared outside this expression.</dd>
</dl>
</li>
</ul>
<a name="contains-net.sf.saxon.expr.Expression-boolean-java.util.function.Predicate-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>contains</h4>
<pre>public static&nbsp;boolean&nbsp;contains(<a href="../../../../../net/sf/saxon/expr/Expression.html" title="class in net.sf.saxon.expr">Expression</a>&nbsp;exp,
                               boolean&nbsp;sameFocusOnly,
                               java.util.function.Predicate&lt;<a href="../../../../../net/sf/saxon/expr/Expression.html" title="class in net.sf.saxon.expr">Expression</a>&gt;&nbsp;predicate)</pre>
<div class="block">Test whether a given expression is, or contains, at any depth, an expression that satisfies a supplied
 condition</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>exp</code> - the given expression</dd>
<dd><code>sameFocusOnly</code> - if true, only subexpressions evaluated in the same focus are searched. If false,
                      all subexpressions are searched</dd>
<dd><code>predicate</code> - the condition to be satisfied</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>true if the given expression is or contains an expression that satisfies the condition.</dd>
</dl>
</li>
</ul>
<a name="changesXsltContext-net.sf.saxon.expr.Expression-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>changesXsltContext</h4>
<pre>public static&nbsp;boolean&nbsp;changesXsltContext(<a href="../../../../../net/sf/saxon/expr/Expression.html" title="class in net.sf.saxon.expr">Expression</a>&nbsp;exp)</pre>
<div class="block">Determine whether an expression possible calls (directly or indirectly) xsl:result-document, or
 has other context dependencies that prevent function inlining,
 which we assume is true if it contains a template call.
 A call on result-document disqualifies the function from being
 inlined, because error XTDE1480 would then not be detected. We don't have to worry about functions
 containing further function calls because they are disqualified from inlining anyway.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>exp</code> - the expression to be tested</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>true if there is any possibility that calling the function might result in a call on
 xsl:result-document</dd>
</dl>
</li>
</ul>
<a name="isLoopingSubexpression-net.sf.saxon.expr.Expression-net.sf.saxon.expr.Expression-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isLoopingSubexpression</h4>
<pre>public static&nbsp;boolean&nbsp;isLoopingSubexpression(<a href="../../../../../net/sf/saxon/expr/Expression.html" title="class in net.sf.saxon.expr">Expression</a>&nbsp;child,
                                             <a href="../../../../../net/sf/saxon/expr/Expression.html" title="class in net.sf.saxon.expr">Expression</a>&nbsp;ancestor)</pre>
<div class="block">Return true if a given expression is evaluated repeatedly
 when a given ancestor expression is evaluated once</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>child</code> - the expression to be tested</dd>
<dd><code>ancestor</code> - the ancestor expression. May be null, in which case the search goes all the way
                 to the base of the stack.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>true if the current expression is evaluated repeatedly</dd>
</dl>
</li>
</ul>
<a name="isLoopingReference-net.sf.saxon.expr.VariableReference-net.sf.saxon.expr.Binding-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isLoopingReference</h4>
<pre>public static&nbsp;boolean&nbsp;isLoopingReference(<a href="../../../../../net/sf/saxon/expr/VariableReference.html" title="class in net.sf.saxon.expr">VariableReference</a>&nbsp;reference,
                                         <a href="../../../../../net/sf/saxon/expr/Binding.html" title="interface in net.sf.saxon.expr">Binding</a>&nbsp;binding)</pre>
</li>
</ul>
<a name="hasLoopingSubexpression-net.sf.saxon.expr.Expression-net.sf.saxon.expr.Expression-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>hasLoopingSubexpression</h4>
<pre>public static&nbsp;boolean&nbsp;hasLoopingSubexpression(<a href="../../../../../net/sf/saxon/expr/Expression.html" title="class in net.sf.saxon.expr">Expression</a>&nbsp;parent,
                                              <a href="../../../../../net/sf/saxon/expr/Expression.html" title="class in net.sf.saxon.expr">Expression</a>&nbsp;child)</pre>
</li>
</ul>
<a name="getFocusSettingContainer-net.sf.saxon.expr.Expression-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getFocusSettingContainer</h4>
<pre>public static&nbsp;<a href="../../../../../net/sf/saxon/expr/Expression.html" title="class in net.sf.saxon.expr">Expression</a>&nbsp;getFocusSettingContainer(<a href="../../../../../net/sf/saxon/expr/Expression.html" title="class in net.sf.saxon.expr">Expression</a>&nbsp;exp)</pre>
<div class="block">Get the focus-setting container of an expression

      *
 <p>Note, this always returns an expression or null. Unlike the like-named concept in the
 spec, it can't return a component such as a template or an attribute set.</p></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>exp</code> - the expression whose focus-setting container is required</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the focus-setting container, or null if the focus for the expression is the same as the
 focus for the containing component as a whole</dd>
</dl>
</li>
</ul>
<a name="getContextDocumentSettingContainer-net.sf.saxon.expr.Expression-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getContextDocumentSettingContainer</h4>
<pre>public static&nbsp;<a href="../../../../../net/sf/saxon/expr/Expression.html" title="class in net.sf.saxon.expr">Expression</a>&nbsp;getContextDocumentSettingContainer(<a href="../../../../../net/sf/saxon/expr/Expression.html" title="class in net.sf.saxon.expr">Expression</a>&nbsp;exp)</pre>
<div class="block">Get the context-document-setting container of an expression. This is the same as the
 focus-setting container, except when the context-setting operand is a single-document node-set,
 in which case we can go up one more level. For example, given /a/b[/d/e = 3], the predicate
 /d/e = 3 can be loop-lifted from the filter expression, because it is known that the base
 expression /a/b is a single-document node-set.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>exp</code> - the expression whose document-context-setting container is required</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the context-document-setting container, or null if the focus for the expression is the same as the
 focus for the containing component as a whole</dd>
</dl>
</li>
</ul>
<a name="resetStaticProperties-net.sf.saxon.expr.Expression-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>resetStaticProperties</h4>
<pre>public static&nbsp;void&nbsp;resetStaticProperties(<a href="../../../../../net/sf/saxon/expr/Expression.html" title="class in net.sf.saxon.expr">Expression</a>&nbsp;exp)</pre>
<div class="block">Reset the static properties for the current expression and for all its containing expressions.
 This should be done whenever the expression is changed in a way that might
 affect the properties. It causes the properties to be recomputed next time they are needed.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>exp</code> - the expression whose properties are to be reset; the method also resets local
            properties for all its ancestor expressions.</dd>
</dl>
</li>
</ul>
<a name="equalOrNull-java.lang.Object-java.lang.Object-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>equalOrNull</h4>
<pre>public static&nbsp;boolean&nbsp;equalOrNull(java.lang.Object&nbsp;x,
                                  java.lang.Object&nbsp;y)</pre>
<div class="block">Return true if two objects are equal or if both are null</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>x</code> - the first object</dd>
<dd><code>y</code> - the second object</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>true if both x and y are null or if x.equals(y)</dd>
</dl>
</li>
</ul>
<a name="getIteratorFromProcessMethod-net.sf.saxon.expr.Expression-net.sf.saxon.expr.XPathContext-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getIteratorFromProcessMethod</h4>
<pre>public static&nbsp;<a href="../../../../../net/sf/saxon/om/SequenceIterator.html" title="interface in net.sf.saxon.om">SequenceIterator</a>&nbsp;getIteratorFromProcessMethod(<a href="../../../../../net/sf/saxon/expr/Expression.html" title="class in net.sf.saxon.expr">Expression</a>&nbsp;exp,
                                                            <a href="../../../../../net/sf/saxon/expr/XPathContext.html" title="interface in net.sf.saxon.expr">XPathContext</a>&nbsp;context)
                                                     throws <a href="../../../../../net/sf/saxon/trans/XPathException.html" title="class in net.sf.saxon.trans">XPathException</a></pre>
<div class="block">Helper method to construct an iterator over the results of the expression when all that
 the expression itself offers is a process() method. This builds the entire results of the
 expression as a sequence in memory and then iterates over it.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>context</code> - the dynamic evaluation context</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>an iterator over the results of the expression</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../net/sf/saxon/trans/XPathException.html" title="class in net.sf.saxon.trans">XPathException</a></code> - if a dynamic error occurs</dd>
</dl>
</li>
</ul>
<a name="getItemFromProcessMethod-net.sf.saxon.expr.Expression-net.sf.saxon.expr.XPathContext-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getItemFromProcessMethod</h4>
<pre>public static&nbsp;<a href="../../../../../net/sf/saxon/om/Item.html" title="interface in net.sf.saxon.om">Item</a>&nbsp;getItemFromProcessMethod(<a href="../../../../../net/sf/saxon/expr/Expression.html" title="class in net.sf.saxon.expr">Expression</a>&nbsp;exp,
                                            <a href="../../../../../net/sf/saxon/expr/XPathContext.html" title="interface in net.sf.saxon.expr">XPathContext</a>&nbsp;context)
                                     throws <a href="../../../../../net/sf/saxon/trans/XPathException.html" title="class in net.sf.saxon.trans">XPathException</a></pre>
<div class="block">Helper method to construct an item representing the results of the expression when all that
 the expression itself offers is a process() method.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>context</code> - the dynamic evaluation context</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>an iterator over the results of the expression</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../net/sf/saxon/trans/XPathException.html" title="class in net.sf.saxon.trans">XPathException</a></code> - if a dynamic error occurs</dd>
</dl>
</li>
</ul>
<a name="allocateSlots-net.sf.saxon.expr.Expression-int-net.sf.saxon.expr.instruct.SlotManager-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>allocateSlots</h4>
<pre>public static&nbsp;int&nbsp;allocateSlots(<a href="../../../../../net/sf/saxon/expr/Expression.html" title="class in net.sf.saxon.expr">Expression</a>&nbsp;exp,
                                int&nbsp;nextFree,
                                <a href="../../../../../net/sf/saxon/expr/instruct/SlotManager.html" title="class in net.sf.saxon.expr.instruct">SlotManager</a>&nbsp;frame)</pre>
<div class="block">Allocate slot numbers to range variables</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>exp</code> - the expression whose range variables need to have slot numbers assigned</dd>
<dd><code>nextFree</code> - the next slot number that is available for allocation</dd>
<dd><code>frame</code> - a SlotManager object that is used to track the mapping of slot numbers
                 to variable names for debugging purposes. May be null.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the next unallocated slot number.</dd>
</dl>
</li>
</ul>
<a name="effectiveBooleanValue-net.sf.saxon.om.SequenceIterator-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>effectiveBooleanValue</h4>
<pre>public static&nbsp;boolean&nbsp;effectiveBooleanValue(<a href="../../../../../net/sf/saxon/om/SequenceIterator.html" title="interface in net.sf.saxon.om">SequenceIterator</a>&nbsp;iterator)
                                     throws <a href="../../../../../net/sf/saxon/trans/XPathException.html" title="class in net.sf.saxon.trans">XPathException</a></pre>
<div class="block">Determine the effective boolean value of a sequence, given an iterator over the sequence</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>iterator</code> - An iterator over the sequence whose effective boolean value is required</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the effective boolean value</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../net/sf/saxon/trans/XPathException.html" title="class in net.sf.saxon.trans">XPathException</a></code> - if a dynamic error occurs</dd>
</dl>
</li>
</ul>
<a name="effectiveBooleanValue-net.sf.saxon.om.Item-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>effectiveBooleanValue</h4>
<pre>public static&nbsp;boolean&nbsp;effectiveBooleanValue(<a href="../../../../../net/sf/saxon/om/Item.html" title="interface in net.sf.saxon.om">Item</a>&nbsp;item)
                                     throws <a href="../../../../../net/sf/saxon/trans/XPathException.html" title="class in net.sf.saxon.trans">XPathException</a></pre>
<div class="block">Determine the effective boolean value of a single item</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>item</code> - the item whose effective boolean value is required</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the effective boolean value</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../net/sf/saxon/trans/XPathException.html" title="class in net.sf.saxon.trans">XPathException</a></code> - if a dynamic error occurs</dd>
</dl>
</li>
</ul>
<a name="ebvError-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>ebvError</h4>
<pre>public static&nbsp;void&nbsp;ebvError(java.lang.String&nbsp;reason)
                     throws <a href="../../../../../net/sf/saxon/trans/XPathException.html" title="class in net.sf.saxon.trans">XPathException</a></pre>
<div class="block">Report an error in computing the effective boolean value of an expression</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>reason</code> - the nature of the error</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../net/sf/saxon/trans/XPathException.html" title="class in net.sf.saxon.trans">XPathException</a></code> - always</dd>
</dl>
</li>
</ul>
<a name="ebvError-java.lang.String-net.sf.saxon.expr.Expression-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>ebvError</h4>
<pre>public static&nbsp;void&nbsp;ebvError(java.lang.String&nbsp;reason,
                            <a href="../../../../../net/sf/saxon/expr/Expression.html" title="class in net.sf.saxon.expr">Expression</a>&nbsp;cause)
                     throws <a href="../../../../../net/sf/saxon/trans/XPathException.html" title="class in net.sf.saxon.trans">XPathException</a></pre>
<div class="block">Report an error in computing the effective boolean value of an expression</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>reason</code> - the nature of the error</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../net/sf/saxon/trans/XPathException.html" title="class in net.sf.saxon.trans">XPathException</a></code> - always</dd>
</dl>
</li>
</ul>
<a name="dependsOnFocus-net.sf.saxon.expr.Expression-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>dependsOnFocus</h4>
<pre>public static&nbsp;boolean&nbsp;dependsOnFocus(<a href="../../../../../net/sf/saxon/expr/Expression.html" title="class in net.sf.saxon.expr">Expression</a>&nbsp;exp)</pre>
<div class="block">Ask whether an expression has a dependency on the focus</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>exp</code> - the expression</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>true if the value of the expression depends on the context item, position, or size</dd>
</dl>
</li>
</ul>
<a name="dependsOnVariable-net.sf.saxon.expr.Expression-net.sf.saxon.expr.Binding:A-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>dependsOnVariable</h4>
<pre>public static&nbsp;boolean&nbsp;dependsOnVariable(<a href="../../../../../net/sf/saxon/expr/Expression.html" title="class in net.sf.saxon.expr">Expression</a>&nbsp;exp,
                                        <a href="../../../../../net/sf/saxon/expr/Binding.html" title="interface in net.sf.saxon.expr">Binding</a>[]&nbsp;bindingList)</pre>
<div class="block">Determine whether an expression depends on any one of a set of variables</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>exp</code> - the expression being tested</dd>
<dd><code>bindingList</code> - the set of variables being tested</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>true if the expression depends on one of the given variables</dd>
</dl>
</li>
</ul>
<a name="gatherReferencedVariables-net.sf.saxon.expr.Expression-java.util.List-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>gatherReferencedVariables</h4>
<pre>public static&nbsp;void&nbsp;gatherReferencedVariables(<a href="../../../../../net/sf/saxon/expr/Expression.html" title="class in net.sf.saxon.expr">Expression</a>&nbsp;e,
                                             java.util.List&lt;<a href="../../../../../net/sf/saxon/expr/Binding.html" title="interface in net.sf.saxon.expr">Binding</a>&gt;&nbsp;list)</pre>
<div class="block">Gather a list of all the variable bindings on which a given expression depends.
 In the light of spec bug 29590, this only considers variable references that
 are unconditionally evaluated: that is, it ignores variable references appearing
 in the then/else branches of a conditional or equivalent. Cycles involving
 conditional evaluation are detected dynamically.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>e</code> - the expression being tested</dd>
<dd><code>list</code> - a list to which the bindings are to be added. The items in this list must
             implement <a href="../../../../../net/sf/saxon/expr/Binding.html" title="interface in net.sf.saxon.expr"><code>Binding</code></a></dd>
</dl>
</li>
</ul>
<a name="refersToVariableOrFunction-net.sf.saxon.expr.Expression-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>refersToVariableOrFunction</h4>
<pre>public static&nbsp;boolean&nbsp;refersToVariableOrFunction(<a href="../../../../../net/sf/saxon/expr/Expression.html" title="class in net.sf.saxon.expr">Expression</a>&nbsp;exp)</pre>
<div class="block">Determine whether the expression contains any variable references or calls to user-written functions</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>exp</code> - the expression being tested</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>true if the expression includes a variable reference or function call, or an XSLT construct
 equivalent to a function call (e.g call-template). Also returns true if the expression includes
 a variable binding element, as (a) this is likely to mean it also contains a reference, and (b)
 it also needs to be caught on the same paths.</dd>
</dl>
</li>
</ul>
<a name="isCallOnSystemFunction-net.sf.saxon.expr.Expression-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isCallOnSystemFunction</h4>
<pre>public static&nbsp;boolean&nbsp;isCallOnSystemFunction(<a href="../../../../../net/sf/saxon/expr/Expression.html" title="class in net.sf.saxon.expr">Expression</a>&nbsp;e,
                                             java.lang.String&nbsp;localName)</pre>
</li>
</ul>
<a name="callsFunction-net.sf.saxon.expr.Expression-net.sf.saxon.om.StructuredQName-boolean-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>callsFunction</h4>
<pre>public static&nbsp;boolean&nbsp;callsFunction(<a href="../../../../../net/sf/saxon/expr/Expression.html" title="class in net.sf.saxon.expr">Expression</a>&nbsp;exp,
                                    <a href="../../../../../net/sf/saxon/om/StructuredQName.html" title="class in net.sf.saxon.om">StructuredQName</a>&nbsp;qName,
                                    boolean&nbsp;sameFocusOnly)</pre>
<div class="block">Determine whether an expression contains a call on the function with a given name</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>exp</code> - The expression being tested</dd>
<dd><code>qName</code> - The name of the function</dd>
<dd><code>sameFocusOnly</code> - If true, only expressions with the same (top-level) focus are searched</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>true if the expression contains a call on the function</dd>
</dl>
</li>
</ul>
<a name="containsSubexpression-net.sf.saxon.expr.Expression-java.lang.Class-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>containsSubexpression</h4>
<pre>public static&nbsp;boolean&nbsp;containsSubexpression(<a href="../../../../../net/sf/saxon/expr/Expression.html" title="class in net.sf.saxon.expr">Expression</a>&nbsp;exp,
                                            java.lang.Class&lt;? extends <a href="../../../../../net/sf/saxon/expr/Expression.html" title="class in net.sf.saxon.expr">Expression</a>&gt;&nbsp;subClass)</pre>
<div class="block">Determine whether an expression has a subexpression of a given implementation class</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>exp</code> - The expression being tested</dd>
<dd><code>subClass</code> - The implementation class of the sought subexpression</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>true if the expression contains a subexpression that is an instance of the specified class</dd>
</dl>
</li>
</ul>
<a name="gatherCalledFunctions-net.sf.saxon.expr.Expression-java.util.List-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>gatherCalledFunctions</h4>
<pre>public static&nbsp;void&nbsp;gatherCalledFunctions(<a href="../../../../../net/sf/saxon/expr/Expression.html" title="class in net.sf.saxon.expr">Expression</a>&nbsp;e,
                                         java.util.List&lt;<a href="../../../../../net/sf/saxon/expr/instruct/UserFunction.html" title="class in net.sf.saxon.expr.instruct">UserFunction</a>&gt;&nbsp;list)</pre>
<div class="block">Gather a list of all the user-defined functions which a given expression calls directly</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>e</code> - the expression being tested</dd>
<dd><code>list</code> - a list of the functions that are called. The items in this list must
             be objects of class <a href="../../../../../net/sf/saxon/expr/instruct/UserFunction.html" title="class in net.sf.saxon.expr.instruct"><code>UserFunction</code></a></dd>
</dl>
</li>
</ul>
<a name="gatherCalledFunctionNames-net.sf.saxon.expr.Expression-java.util.List-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>gatherCalledFunctionNames</h4>
<pre>public static&nbsp;void&nbsp;gatherCalledFunctionNames(<a href="../../../../../net/sf/saxon/expr/Expression.html" title="class in net.sf.saxon.expr">Expression</a>&nbsp;e,
                                             java.util.List&lt;<a href="../../../../../net/sf/saxon/trans/SymbolicName.html" title="class in net.sf.saxon.trans">SymbolicName</a>&gt;&nbsp;list)</pre>
<div class="block">Gather a list of the names of the user-defined functions which a given expression calls directly</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>e</code> - the expression being tested</dd>
<dd><code>list</code> - a list of the functions that are called. The items in this list are strings in the format
             "{uri}local/arity"</dd>
</dl>
</li>
</ul>
<a name="optimizeComponentBody-net.sf.saxon.expr.Expression-net.sf.saxon.style.Compilation-net.sf.saxon.expr.parser.ExpressionVisitor-net.sf.saxon.expr.parser.ContextItemStaticInfo-boolean-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>optimizeComponentBody</h4>
<pre>public static&nbsp;<a href="../../../../../net/sf/saxon/expr/Expression.html" title="class in net.sf.saxon.expr">Expression</a>&nbsp;optimizeComponentBody(<a href="../../../../../net/sf/saxon/expr/Expression.html" title="class in net.sf.saxon.expr">Expression</a>&nbsp;body,
                                               <a href="../../../../../net/sf/saxon/style/Compilation.html" title="class in net.sf.saxon.style">Compilation</a>&nbsp;compilation,
                                               <a href="../../../../../net/sf/saxon/expr/parser/ExpressionVisitor.html" title="class in net.sf.saxon.expr.parser">ExpressionVisitor</a>&nbsp;visitor,
                                               <a href="../../../../../net/sf/saxon/expr/parser/ContextItemStaticInfo.html" title="class in net.sf.saxon.expr.parser">ContextItemStaticInfo</a>&nbsp;cisi,
                                               boolean&nbsp;extractGlobals)
                                        throws <a href="../../../../../net/sf/saxon/trans/XPathException.html" title="class in net.sf.saxon.trans">XPathException</a></pre>
<div class="block">Optimize the implementation of a component such as a function, template, or global variable</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>body</code> - the expression forming the body of the component</dd>
<dd><code>compilation</code> - the current compilation. May be null.</dd>
<dd><code>visitor</code> - the expression visitor</dd>
<dd><code>cisi</code> - information about the context item for evaluation of the component body</dd>
<dd><code>extractGlobals</code> - true if constant expressions are to be extracted as global variables</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the optimized expression body</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../net/sf/saxon/trans/XPathException.html" title="class in net.sf.saxon.trans">XPathException</a></code> - if anything goes wrong</dd>
</dl>
</li>
</ul>
<a name="computeEvaluationModesForUserFunctionCalls-net.sf.saxon.expr.Expression-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>computeEvaluationModesForUserFunctionCalls</h4>
<pre>public static&nbsp;void&nbsp;computeEvaluationModesForUserFunctionCalls(<a href="../../../../../net/sf/saxon/expr/Expression.html" title="class in net.sf.saxon.expr">Expression</a>&nbsp;exp)
                                                       throws <a href="../../../../../net/sf/saxon/trans/XPathException.html" title="class in net.sf.saxon.trans">XPathException</a></pre>
<div class="block">Compute argument evaluation modes for all calls on user defined functions with
 a specified expression</div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../net/sf/saxon/trans/XPathException.html" title="class in net.sf.saxon.trans">XPathException</a></code></dd>
</dl>
</li>
</ul>
<a name="clearStreamabilityData-net.sf.saxon.expr.Expression-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>clearStreamabilityData</h4>
<pre>public static&nbsp;void&nbsp;clearStreamabilityData(<a href="../../../../../net/sf/saxon/expr/Expression.html" title="class in net.sf.saxon.expr">Expression</a>&nbsp;exp)
                                   throws <a href="../../../../../net/sf/saxon/trans/XPathException.html" title="class in net.sf.saxon.trans">XPathException</a></pre>
<div class="block">Clear all computed streamability properties for an expression and its contained subtree</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>exp</code> - the expression whose streamability data is to be reset</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../net/sf/saxon/trans/XPathException.html" title="class in net.sf.saxon.trans">XPathException</a></code> - should not happen</dd>
</dl>
</li>
</ul>
<a name="resetPropertiesWithinSubtree-net.sf.saxon.expr.Expression-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>resetPropertiesWithinSubtree</h4>
<pre>public static&nbsp;void&nbsp;resetPropertiesWithinSubtree(<a href="../../../../../net/sf/saxon/expr/Expression.html" title="class in net.sf.saxon.expr">Expression</a>&nbsp;exp)</pre>
<div class="block">Reset cached static properties within a subtree, meaning that they have to be
 recalulated next time they are required</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>exp</code> - the root of the subtree within which static properties should be reset</dd>
</dl>
</li>
</ul>
<a name="resolveCallsToCurrentFunction-net.sf.saxon.expr.Expression-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>resolveCallsToCurrentFunction</h4>
<pre>public static&nbsp;<a href="../../../../../net/sf/saxon/expr/Expression.html" title="class in net.sf.saxon.expr">Expression</a>&nbsp;resolveCallsToCurrentFunction(<a href="../../../../../net/sf/saxon/expr/Expression.html" title="class in net.sf.saxon.expr">Expression</a>&nbsp;exp)</pre>
<div class="block">Resolve calls to the XSLT current() function within an expression</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>exp</code> - the expression within which calls to current() should be resolved</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the expression after resolving calls to current()</dd>
</dl>
</li>
</ul>
<a name="gatherVariableReferences-net.sf.saxon.expr.Expression-net.sf.saxon.expr.Binding-java.util.List-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>gatherVariableReferences</h4>
<pre>public static&nbsp;void&nbsp;gatherVariableReferences(<a href="../../../../../net/sf/saxon/expr/Expression.html" title="class in net.sf.saxon.expr">Expression</a>&nbsp;exp,
                                            <a href="../../../../../net/sf/saxon/expr/Binding.html" title="interface in net.sf.saxon.expr">Binding</a>&nbsp;binding,
                                            java.util.List&lt;<a href="../../../../../net/sf/saxon/expr/VariableReference.html" title="class in net.sf.saxon.expr">VariableReference</a>&gt;&nbsp;list)</pre>
<div class="block">Get a list of all references to a particular variable within a subtree</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>exp</code> - the expression at the root of the subtree</dd>
<dd><code>binding</code> - the variable binding whose references are sought</dd>
<dd><code>list</code> - a list to be populated with the references to this variable</dd>
</dl>
</li>
</ul>
<a name="processExpressionTree-net.sf.saxon.expr.Expression-java.lang.Object-net.sf.saxon.expr.parser.ExpressionAction-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>processExpressionTree</h4>
<pre>public static&nbsp;boolean&nbsp;processExpressionTree(<a href="../../../../../net/sf/saxon/expr/Expression.html" title="class in net.sf.saxon.expr">Expression</a>&nbsp;root,
                                            java.lang.Object&nbsp;result,
                                            <a href="../../../../../net/sf/saxon/expr/parser/ExpressionAction.html" title="interface in net.sf.saxon.expr.parser">ExpressionAction</a>&nbsp;action)
                                     throws <a href="../../../../../net/sf/saxon/trans/XPathException.html" title="class in net.sf.saxon.trans">XPathException</a></pre>
<div class="block">Process every node on a subtree of the expression tree using a supplied action.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>root</code> - the root of the subtree to be processed</dd>
<dd><code>result</code> - an arbitrary object that is passed to each action call and that can be
               updated to gather results of the processing</dd>
<dd><code>action</code> - an action to be performed on each node of the expression tree. Processing
               stops if any action returns the value true</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>true if any call on the action operand returned true</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../net/sf/saxon/trans/XPathException.html" title="class in net.sf.saxon.trans">XPathException</a></code> - if the callback throws an error</dd>
</dl>
</li>
</ul>
<a name="replaceSelectedSubexpressions-net.sf.saxon.expr.Expression-net.sf.saxon.expr.parser.ExpressionTool.ExpressionSelector-net.sf.saxon.expr.Expression-boolean-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>replaceSelectedSubexpressions</h4>
<pre>public static&nbsp;boolean&nbsp;replaceSelectedSubexpressions(<a href="../../../../../net/sf/saxon/expr/Expression.html" title="class in net.sf.saxon.expr">Expression</a>&nbsp;exp,
                                                    <a href="../../../../../net/sf/saxon/expr/parser/ExpressionTool.ExpressionSelector.html" title="interface in net.sf.saxon.expr.parser">ExpressionTool.ExpressionSelector</a>&nbsp;selector,
                                                    <a href="../../../../../net/sf/saxon/expr/Expression.html" title="class in net.sf.saxon.expr">Expression</a>&nbsp;replacement,
                                                    boolean&nbsp;mustCopy)</pre>
<div class="block">Replace all selected subexpressions within a subtree</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>exp</code> - the expression at the root of the subtree</dd>
<dd><code>selector</code> - callback to determine whether a subexpression is selected</dd>
<dd><code>replacement</code> - the expression to be used in place of the variable reference</dd>
<dd><code>mustCopy</code> - if true, the replacement expression must be copied before use</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>true if a replacement has been performed (in which case the replacement expression
 must be copied before being used again).</dd>
</dl>
</li>
</ul>
<a name="replaceVariableReferences-net.sf.saxon.expr.Expression-net.sf.saxon.expr.Binding-net.sf.saxon.expr.Expression-boolean-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>replaceVariableReferences</h4>
<pre>public static&nbsp;void&nbsp;replaceVariableReferences(<a href="../../../../../net/sf/saxon/expr/Expression.html" title="class in net.sf.saxon.expr">Expression</a>&nbsp;exp,
                                             <a href="../../../../../net/sf/saxon/expr/Binding.html" title="interface in net.sf.saxon.expr">Binding</a>&nbsp;binding,
                                             <a href="../../../../../net/sf/saxon/expr/Expression.html" title="class in net.sf.saxon.expr">Expression</a>&nbsp;replacement,
                                             boolean&nbsp;mustCopy)</pre>
<div class="block">Replace all references to a particular variable within a subtree</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>exp</code> - the expression at the root of the subtree</dd>
<dd><code>binding</code> - the variable binding whose references are sought</dd>
<dd><code>replacement</code> - the expression to be used in place of the variable reference</dd>
<dd><code>mustCopy</code> - true if the replacement expression must be copied before use</dd>
</dl>
</li>
</ul>
<a name="getReferenceCount-net.sf.saxon.expr.Expression-net.sf.saxon.expr.Binding-boolean-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getReferenceCount</h4>
<pre>public static&nbsp;int&nbsp;getReferenceCount(<a href="../../../../../net/sf/saxon/expr/Expression.html" title="class in net.sf.saxon.expr">Expression</a>&nbsp;exp,
                                    <a href="../../../../../net/sf/saxon/expr/Binding.html" title="interface in net.sf.saxon.expr">Binding</a>&nbsp;binding,
                                    boolean&nbsp;inLoop)</pre>
<div class="block">Determine how often a variable is referenced. This is the number of times
 it is referenced at run-time: so a reference in a loop counts as "many". This code
 currently handles local variables (Let expressions) and function parameters. It is
 not currently used for XSLT template parameters. It's not the end of the world if
 the answer is wrong (unless it's wrongly given as zero), but if wrongly returned as
 1 then the variable will be repeatedly evaluated.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>exp</code> - the expression within which variable references are to be counted</dd>
<dd><code>binding</code> - identifies the variable of interest</dd>
<dd><code>inLoop</code> - true if the expression is within a loop, in which case a reference counts as many.
                This should be set to false on the initial call, it may be set to true on an internal recursive
                call</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the number of references. The interesting values are 0, 1,  "many" (represented
 by any value &gt;1), and the special value FILTERED, which indicates that there are
 multiple references and one or more of them is of the form <code>$x[....]</code> indicating that an
 index might be useful.</dd>
</dl>
</li>
</ul>
<a name="expressionSize-net.sf.saxon.expr.Expression-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>expressionSize</h4>
<pre>public static&nbsp;int&nbsp;expressionSize(<a href="../../../../../net/sf/saxon/expr/Expression.html" title="class in net.sf.saxon.expr">Expression</a>&nbsp;exp)</pre>
<div class="block">Get the size of an expression tree (the number of subexpressions it contains)</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>exp</code> - the expression whose size is required</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the size of the expression tree, as the number of nodes</dd>
</dl>
</li>
</ul>
<a name="rebindVariableReferences-net.sf.saxon.expr.Expression-net.sf.saxon.expr.Binding-net.sf.saxon.expr.Binding-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>rebindVariableReferences</h4>
<pre>public static&nbsp;void&nbsp;rebindVariableReferences(<a href="../../../../../net/sf/saxon/expr/Expression.html" title="class in net.sf.saxon.expr">Expression</a>&nbsp;exp,
                                            <a href="../../../../../net/sf/saxon/expr/Binding.html" title="interface in net.sf.saxon.expr">Binding</a>&nbsp;oldBinding,
                                            <a href="../../../../../net/sf/saxon/expr/Binding.html" title="interface in net.sf.saxon.expr">Binding</a>&nbsp;newBinding)</pre>
<div class="block">Rebind all variable references to a binding</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>exp</code> - the expression whose contained variable references are to be rebound</dd>
<dd><code>oldBinding</code> - the old binding for the variable references</dd>
<dd><code>newBinding</code> - the new binding to which the variables should be rebound</dd>
</dl>
</li>
</ul>
<a name="makePathExpression-net.sf.saxon.expr.Expression-net.sf.saxon.expr.Expression-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>makePathExpression</h4>
<pre>public static&nbsp;<a href="../../../../../net/sf/saxon/expr/Expression.html" title="class in net.sf.saxon.expr">Expression</a>&nbsp;makePathExpression(<a href="../../../../../net/sf/saxon/expr/Expression.html" title="class in net.sf.saxon.expr">Expression</a>&nbsp;start,
                                            <a href="../../../../../net/sf/saxon/expr/Expression.html" title="class in net.sf.saxon.expr">Expression</a>&nbsp;step)</pre>
<div class="block">Make a mapping expression. The resulting expression will include logic to check that the first operand
 returns nodes, and that the expression as a whole is homogeneous, unless the caller requests otherwise.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>start</code> - the start expression (the first operand of "/")</dd>
<dd><code>step</code> - the step expression (the second operand of "/")</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the resulting expression.</dd>
</dl>
</li>
</ul>
<a name="findOperand-net.sf.saxon.expr.Expression-net.sf.saxon.expr.Expression-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>findOperand</h4>
<pre>public static&nbsp;<a href="../../../../../net/sf/saxon/expr/Operand.html" title="class in net.sf.saxon.expr">Operand</a>&nbsp;findOperand(<a href="../../../../../net/sf/saxon/expr/Expression.html" title="class in net.sf.saxon.expr">Expression</a>&nbsp;parentExpression,
                                  <a href="../../../../../net/sf/saxon/expr/Expression.html" title="class in net.sf.saxon.expr">Expression</a>&nbsp;childExpression)</pre>
<div class="block">Find the operand corresponding to a particular child expression</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>parentExpression</code> - the parent expression</dd>
<dd><code>childExpression</code> - the child expression</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the relevant operand, or null if not found</dd>
</dl>
</li>
</ul>
<a name="unfilteredExpression-net.sf.saxon.expr.Expression-boolean-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>unfilteredExpression</h4>
<pre>public static&nbsp;<a href="../../../../../net/sf/saxon/expr/Expression.html" title="class in net.sf.saxon.expr">Expression</a>&nbsp;unfilteredExpression(<a href="../../../../../net/sf/saxon/expr/Expression.html" title="class in net.sf.saxon.expr">Expression</a>&nbsp;exp,
                                              boolean&nbsp;allowPositional)</pre>
<div class="block">Get the expression that remains after removing any filter predicates</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>exp</code> - the expression to be examined</dd>
<dd><code>allowPositional</code> - true if positional predicates are allowed</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the expression underlying exp after removing any predicates</dd>
</dl>
</li>
</ul>
<a name="tryToFactorOutDot-net.sf.saxon.expr.Expression-net.sf.saxon.type.ItemType-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>tryToFactorOutDot</h4>
<pre>public static&nbsp;<a href="../../../../../net/sf/saxon/expr/Expression.html" title="class in net.sf.saxon.expr">Expression</a>&nbsp;tryToFactorOutDot(<a href="../../../../../net/sf/saxon/expr/Expression.html" title="class in net.sf.saxon.expr">Expression</a>&nbsp;exp,
                                           <a href="../../../../../net/sf/saxon/type/ItemType.html" title="interface in net.sf.saxon.type">ItemType</a>&nbsp;contextItemType)</pre>
<div class="block">Try to factor out dependencies on the context item, by rewriting an expression f(.) as
 let $dot := . return f($dot). This is not always possible, for example where f() is an extension
 function call that uses XPathContext as an implicit argument. However, doing this increases the
 chances of distributing a "where" condition in a FLWOR expression to the individual input sequences
 selected by the "for" clauses.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>exp</code> - the expression from which references to "." should be factored out if possible</dd>
<dd><code>contextItemType</code> - the static type of the context item</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>either the expression, after binding "." to a local variable and replacing all references to it;
 or null, if no changes were made.</dd>
</dl>
</li>
</ul>
<a name="factorOutDot-net.sf.saxon.expr.Expression-net.sf.saxon.expr.Binding-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>factorOutDot</h4>
<pre>public static&nbsp;boolean&nbsp;factorOutDot(<a href="../../../../../net/sf/saxon/expr/Expression.html" title="class in net.sf.saxon.expr">Expression</a>&nbsp;exp,
                                   <a href="../../../../../net/sf/saxon/expr/Binding.html" title="interface in net.sf.saxon.expr">Binding</a>&nbsp;variable)</pre>
<div class="block">Replace references to the context item with references to a variable</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>exp</code> - the expression in which the replacement is to take place</dd>
<dd><code>variable</code> - the declaration of the variable</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>true if replacement has taken place (at any level)</dd>
</dl>
</li>
</ul>
<a name="inlineVariableReferences-net.sf.saxon.expr.Expression-net.sf.saxon.expr.Binding-net.sf.saxon.expr.Expression-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>inlineVariableReferences</h4>
<pre>public static&nbsp;boolean&nbsp;inlineVariableReferences(<a href="../../../../../net/sf/saxon/expr/Expression.html" title="class in net.sf.saxon.expr">Expression</a>&nbsp;expr,
                                               <a href="../../../../../net/sf/saxon/expr/Binding.html" title="interface in net.sf.saxon.expr">Binding</a>&nbsp;binding,
                                               <a href="../../../../../net/sf/saxon/expr/Expression.html" title="class in net.sf.saxon.expr">Expression</a>&nbsp;replacement)</pre>
<div class="block">Inline variable references.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>expr</code> - the expression containing the variable references to be inlined</dd>
<dd><code>binding</code> - the variable binding to be inlined</dd>
<dd><code>replacement</code> - the expression to be used as a replacement for the variable reference</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>true if any replacement was carried out within the subtree of this expression</dd>
</dl>
</li>
</ul>
<a name="inlineVariableReferencesInternal-net.sf.saxon.expr.Expression-net.sf.saxon.expr.Binding-net.sf.saxon.expr.Expression-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>inlineVariableReferencesInternal</h4>
<pre>public static&nbsp;boolean&nbsp;inlineVariableReferencesInternal(<a href="../../../../../net/sf/saxon/expr/Expression.html" title="class in net.sf.saxon.expr">Expression</a>&nbsp;expr,
                                                       <a href="../../../../../net/sf/saxon/expr/Binding.html" title="interface in net.sf.saxon.expr">Binding</a>&nbsp;binding,
                                                       <a href="../../../../../net/sf/saxon/expr/Expression.html" title="class in net.sf.saxon.expr">Expression</a>&nbsp;replacement)</pre>
</li>
</ul>
<a name="replaceTrivialCallsToCurrent-net.sf.saxon.expr.Expression-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>replaceTrivialCallsToCurrent</h4>
<pre>public static&nbsp;boolean&nbsp;replaceTrivialCallsToCurrent(<a href="../../../../../net/sf/saxon/expr/Expression.html" title="class in net.sf.saxon.expr">Expression</a>&nbsp;expr)</pre>
<div class="block">Replace trivial calls to current() by a context item expression (<code>.</code>).</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>expr</code> - the expression potentially containing the calls to be replaced</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>true if any replacement was carried out within the subtree of this expression</dd>
</dl>
</li>
</ul>
<a name="replaceCallsToCurrent-net.sf.saxon.expr.Expression-net.sf.saxon.expr.LocalBinding-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>replaceCallsToCurrent</h4>
<pre>public static&nbsp;boolean&nbsp;replaceCallsToCurrent(<a href="../../../../../net/sf/saxon/expr/Expression.html" title="class in net.sf.saxon.expr">Expression</a>&nbsp;expr,
                                            <a href="../../../../../net/sf/saxon/expr/LocalBinding.html" title="interface in net.sf.saxon.expr">LocalBinding</a>&nbsp;binding)</pre>
<div class="block">Replace calls to current() by a variable reference.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>expr</code> - the expression potentially containing the calls to be replaced</dd>
<dd><code>binding</code> - the variable binding to be referenced</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>true if any replacement was carried out within the subtree of this expression</dd>
</dl>
</li>
</ul>
<a name="isNotAllowedInUpdatingContext-net.sf.saxon.expr.Expression-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isNotAllowedInUpdatingContext</h4>
<pre>public static&nbsp;boolean&nbsp;isNotAllowedInUpdatingContext(<a href="../../../../../net/sf/saxon/expr/Expression.html" title="class in net.sf.saxon.expr">Expression</a>&nbsp;exp)</pre>
<div class="block">Determine whether the expression is either an updating expression, or an expression that is permitted
 in a context where updating expressions are allowed</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>exp</code> - the expression under test</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>true if the expression is neither an updating expression, nor an empty sequence,
 nor a call on error()</dd>
</dl>
</li>
</ul>
<a name="getCurrentDirectory--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getCurrentDirectory</h4>
<pre>public static&nbsp;java.lang.String&nbsp;getCurrentDirectory()</pre>
</li>
</ul>
<a name="getBaseURI-net.sf.saxon.expr.StaticContext-javax.xml.transform.SourceLocator-boolean-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getBaseURI</h4>
<pre>public static&nbsp;java.net.URI&nbsp;getBaseURI(<a href="../../../../../net/sf/saxon/expr/StaticContext.html" title="interface in net.sf.saxon.expr">StaticContext</a>&nbsp;env,
                                      javax.xml.transform.SourceLocator&nbsp;locator,
                                      boolean&nbsp;fail)
                               throws <a href="../../../../../net/sf/saxon/trans/XPathException.html" title="class in net.sf.saxon.trans">XPathException</a></pre>
<div class="block">Determine the base URI of an expression, so that it can be saved on the expression tree for use
 when the expression is evaluated</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>env</code> - the static context</dd>
<dd><code>locator</code> - location of the expression for error messages</dd>
<dd><code>fail</code> - if true, the method throws an exception when there is no absolute base URI; otherwise, the
                method returns null</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the absolute base URI of the expression</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../net/sf/saxon/trans/XPathException.html" title="class in net.sf.saxon.trans">XPathException</a></code> - if an error occurs</dd>
</dl>
</li>
</ul>
<a name="parenthesize-net.sf.saxon.expr.Expression-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>parenthesize</h4>
<pre>public static&nbsp;java.lang.String&nbsp;parenthesize(<a href="../../../../../net/sf/saxon/expr/Expression.html" title="class in net.sf.saxon.expr">Expression</a>&nbsp;exp)</pre>
<div class="block">Display an expression adding parentheses if it is possible they are necessary
 because the expression has sub-expressions</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>exp</code> - the expression to be displayed</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>a representation of the expression in parentheses</dd>
</dl>
</li>
</ul>
<a name="parenthesizeShort-net.sf.saxon.expr.Expression-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>parenthesizeShort</h4>
<pre>public static&nbsp;java.lang.String&nbsp;parenthesizeShort(<a href="../../../../../net/sf/saxon/expr/Expression.html" title="class in net.sf.saxon.expr">Expression</a>&nbsp;exp)</pre>
</li>
</ul>
<a name="validateTree-net.sf.saxon.expr.Expression-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>validateTree</h4>
<pre>public static&nbsp;void&nbsp;validateTree(<a href="../../../../../net/sf/saxon/expr/Expression.html" title="class in net.sf.saxon.expr">Expression</a>&nbsp;exp)</pre>
</li>
</ul>
<a name="isLocalConstructor-net.sf.saxon.expr.Expression-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>isLocalConstructor</h4>
<pre>public static&nbsp;boolean&nbsp;isLocalConstructor(<a href="../../../../../net/sf/saxon/expr/Expression.html" title="class in net.sf.saxon.expr">Expression</a>&nbsp;child)</pre>
<div class="block">Ask whether a supplied expression is a nested node constructor.
 That is, return true if the child expression creates nodes that will only be
 used as children of some parent node (meaning that they never need to be copied).</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>child</code> - child expression to be tested</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>true if the node constructed by the child expression does not need to be copied.</dd>
</dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../net/sf/saxon/expr/parser/ExpressionAction.html" title="interface in net.sf.saxon.expr.parser"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../../../net/sf/saxon/expr/parser/ExpressionTool.ExpressionSelector.html" title="interface in net.sf.saxon.expr.parser"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../index.html?net/sf/saxon/expr/parser/ExpressionTool.html" target="_top">Frames</a></li>
<li><a href="ExpressionTool.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested.class.summary">Nested</a>&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
<p class="legalCopy"><small>Copyright (c) 2004-2020 Saxonica Limited. All rights reserved.</small></p>
</body>
</html>
