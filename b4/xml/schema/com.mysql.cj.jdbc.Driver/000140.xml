<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE DDL SYSTEM "schema.dtd">
<DDL>

	<statement>
		ALTER TABLE `APP_WEIGHT_PRODUCT_GROUP` 
		ADD COLUMN `UPPER_LIMIT` DECIMAL(22, 3) NULL DEFAULT 120 AFTER `LOWER_LIMIT`
	</statement>
	
	<statement>
       INSERT INTO SYS_LANGUAGE (RESOURCE_KEY, LANGUAGE_ID, TEXT, MNEMONIC) VALUES ('lbl_Upper_Limit', 'EN', 'Upper Limit', '0')
    </statement>

    <statement>
       INSERT INTO SYS_LANGUAGE (RESOURCE_KEY, LANGUAGE_ID, TEXT, MNEMONIC) VALUES ('lbl_Upper_Limit', 'DE', 'Obere Grenze', '0')
    </statement>

    <statement>
       INSERT INTO SYS_LANGUAGE (RESOURCE_KEY, LANGUAGE_ID, TEXT, MNEMONIC) VALUES ('lbl_Upper_Limit', 'ES', 'Limite superior', '0')
    </statement>

    <statement>
       INSERT INTO SYS_LANGUAGE (RESOURCE_KEY, LANGUAGE_ID, TEXT, MNEMONIC) VALUES ('lbl_Upper_Limit', 'FR', 'Limite supérieure', '0')
    </statement>

    <statement>
       INSERT INTO SYS_LANGUAGE (RESOURCE_KEY, LANGUAGE_ID, TEXT, MNEMONIC) VALUES ('lbl_Upper_Limit', 'HU', 'Felső határ', '0')
    </statement>

    <statement>
       INSERT INTO SYS_LANGUAGE (RESOURCE_KEY, LANGUAGE_ID, TEXT, MNEMONIC) VALUES ('lbl_Upper_Limit', 'IT', 'Limite superiore', '0')
    </statement>

    <statement>
       INSERT INTO SYS_LANGUAGE (RESOURCE_KEY, LANGUAGE_ID, TEXT, MNEMONIC) VALUES ('lbl_Upper_Limit', 'NL', 'Bovenlimiet', '0')
    </statement>

    <statement>
       INSERT INTO SYS_LANGUAGE (RESOURCE_KEY, LANGUAGE_ID, TEXT, MNEMONIC) VALUES ('lbl_Upper_Limit', 'PL', 'Górna granica', '0')
    </statement>
    
    <statement>
   	   DROP VIEW `view_weight_samples`
    </statement>
 
	<statement>
		CREATE VIEW `view_weight_samples` AS SELECT
		APP_WEIGHT_SAMPLE_HEADER.SAMPLE_POINT,
		APP_WEIGHT_SAMPLE_HEADER.SAMPLE_DATE,
		APP_WEIGHT_SAMPLE_HEADER.USER_ID,
		APP_WEIGHT_SAMPLE_HEADER.WORKSTATION_ID,
		APP_WEIGHT_SAMPLE_HEADER.SCALE_ID,
		APP_WEIGHT_SAMPLE_HEADER.PROCESS_ORDER,
		APP_WEIGHT_SAMPLE_HEADER.REQUIRED_RESOURCE,
		APP_WEIGHT_SAMPLE_HEADER.CUSTOMER_ID,
		APP_WEIGHT_SAMPLE_HEADER.MATERIAL,
		APP_WEIGHT_SAMPLE_HEADER.PRODUCT_GROUP,
		APP_WEIGHT_SAMPLE_HEADER.CONTAINER_CODE,
		APP_WEIGHT_SAMPLE_HEADER.TARE_WEIGHT,
		APP_WEIGHT_SAMPLE_HEADER.TARE_WEIGHT_UOM,
		APP_WEIGHT_SAMPLE_HEADER.NOMINAL_WEIGHT,
		APP_WEIGHT_SAMPLE_HEADER.NOMINAL_WEIGHT_UOM,
		APP_WEIGHT_SAMPLE_HEADER.TNE,
		APP_WEIGHT_SAMPLE_HEADER.NEG_T1,
		APP_WEIGHT_SAMPLE_HEADER.NEG_T2,
		APP_WEIGHT_SAMPLE_HEADER.SAMPLE_SIZE,
		APP_WEIGHT_SAMPLE_HEADER.SAMPLE_COUNT,
		APP_WEIGHT_SAMPLE_HEADER.SAMPLE_MEAN,
		APP_WEIGHT_SAMPLE_HEADER.SAMPLE_STD_DEV,
		APP_WEIGHT_SAMPLE_HEADER.SAMPLE_T1_COUNT,
		APP_WEIGHT_SAMPLE_HEADER.SAMPLE_T2_COUNT,
		APP_WEIGHT_SAMPLE_DETAIL.SAMPLE_SEQUENCE,
		APP_WEIGHT_SAMPLE_DETAIL.SAMPLE_WEIGHT_DATE,
		APP_WEIGHT_SAMPLE_DETAIL.SAMPLE_GROSS_WEIGHT,
		APP_WEIGHT_SAMPLE_DETAIL.SAMPLE_NET_WEIGHT,
		APP_WEIGHT_SAMPLE_DETAIL.SAMPLE_TARE_WEIGHT,
		APP_WEIGHT_SAMPLE_DETAIL.SAMPLE_WEIGHT_UOM,
		APP_WEIGHT_SAMPLE_DETAIL.SAMPLE_T1_COUNT AS SAMPLE_T1_COUNT_0,
		APP_WEIGHT_SAMPLE_DETAIL.SAMPLE_T2_COUNT AS SAMPLE_T2_COUNT_0
		FROM
		APP_WEIGHT_SAMPLE_DETAIL
		JOIN APP_WEIGHT_SAMPLE_HEADER
		ON APP_WEIGHT_SAMPLE_DETAIL.SAMPLE_POINT = APP_WEIGHT_SAMPLE_HEADER.SAMPLE_POINT
		AND APP_WEIGHT_SAMPLE_DETAIL.SAMPLE_DATE = APP_WEIGHT_SAMPLE_HEADER.SAMPLE_DATE
	</statement>
    		     
</DDL>
