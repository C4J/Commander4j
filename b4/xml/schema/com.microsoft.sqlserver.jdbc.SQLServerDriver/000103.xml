<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE DDL SYSTEM "schema.dtd">
<DDL>

<statement>
	ALTER TABLE APP_MHN ADD [WRITE_OFF_REF] VARCHAR(20) DEFAULT ''
</statement>

<statement>
	ALTER TABLE APP_QM_SAMPLE ADD [USER_DATA_3] VARCHAR(20) DEFAULT ''
</statement>

<statement>
	ALTER TABLE APP_QM_SAMPLE ADD [USER_DATA_4] VARCHAR(20) DEFAULT ''
</statement>

<statement>
	INSERT INTO SYS_LANGUAGE (RESOURCE_KEY,LANGUAGE_ID,TEXT,MNEMONIC) VALUES ('lbl_Write_Off_Ref', 'EN', 'Write Off Ref', 'Q')
</statement>

<statement>
	INSERT INTO SYS_LANGUAGE (RESOURCE_KEY,LANGUAGE_ID,TEXT,MNEMONIC) VALUES ('lbl_Write_Off_Ref', 'NL', 'Write Off Ref', 'Q')
</statement>

<statement>
	INSERT INTO SYS_LANGUAGE (RESOURCE_KEY,LANGUAGE_ID,TEXT,MNEMONIC) VALUES ('lbl_Write_Off_Ref', 'HU', 'Write Off Ref', 'Q')
</statement>

<statement>
	INSERT INTO SYS_LANGUAGE (RESOURCE_KEY,LANGUAGE_ID,TEXT,MNEMONIC) VALUES ('lbl_Write_Off_Ref', 'IT', 'Write Off Ref', 'Q')
</statement>

<statement>
	INSERT INTO SYS_LANGUAGE (RESOURCE_KEY,LANGUAGE_ID,TEXT,MNEMONIC) VALUES ('lbl_Write_Off_Ref', 'DE', 'Write Off Ref', 'Q')
</statement>

<statement>
	INSERT INTO SYS_LANGUAGE (RESOURCE_KEY,LANGUAGE_ID,TEXT,MNEMONIC) VALUES ('lbl_Write_Off_Ref', 'ES', 'Write Off Ref', 'Q')
</statement>

<statement>
	INSERT INTO SYS_LANGUAGE (RESOURCE_KEY,LANGUAGE_ID,TEXT,MNEMONIC) VALUES ('lbl_Write_Off_Ref', 'PL', 'Write Off Ref', 'Q')
</statement>

<statement>
	INSERT INTO SYS_LANGUAGE (RESOURCE_KEY,LANGUAGE_ID,TEXT,MNEMONIC) VALUES ('lbl_User_Data3', 'EN', 'Shift ID', 'Q')
</statement>

<statement>
	INSERT INTO SYS_LANGUAGE (RESOURCE_KEY,LANGUAGE_ID,TEXT,MNEMONIC) VALUES ('lbl_User_Data3', 'NL', 'Shift ID', 'Q')
</statement>

<statement>
	INSERT INTO SYS_LANGUAGE (RESOURCE_KEY,LANGUAGE_ID,TEXT,MNEMONIC) VALUES ('lbl_User_Data3', 'HU', 'Shift ID', 'Q')
</statement>

<statement>
	INSERT INTO SYS_LANGUAGE (RESOURCE_KEY,LANGUAGE_ID,TEXT,MNEMONIC) VALUES ('lbl_User_Data3', 'IT', 'Shift ID', 'Q')
</statement>

<statement>
	INSERT INTO SYS_LANGUAGE (RESOURCE_KEY,LANGUAGE_ID,TEXT,MNEMONIC) VALUES ('lbl_User_Data3', 'DE', 'Shift ID', 'Q')
</statement>

<statement>
	INSERT INTO SYS_LANGUAGE (RESOURCE_KEY,LANGUAGE_ID,TEXT,MNEMONIC) VALUES ('lbl_User_Data3', 'ES', 'Shift ID', 'Q')
</statement>

<statement>
	INSERT INTO SYS_LANGUAGE (RESOURCE_KEY,LANGUAGE_ID,TEXT,MNEMONIC) VALUES ('lbl_User_Data3', 'PL', 'Shift ID', 'Q')
</statement>

<statement>
	INSERT INTO SYS_LANGUAGE (RESOURCE_KEY,LANGUAGE_ID,TEXT,MNEMONIC) VALUES ('lbl_User_Data4', 'EN', 'Product Group', 'Q')
</statement>

<statement>
	INSERT INTO SYS_LANGUAGE (RESOURCE_KEY,LANGUAGE_ID,TEXT,MNEMONIC) VALUES ('lbl_User_Data4', 'NL', 'Product Group', 'Q')
</statement>

<statement>
	INSERT INTO SYS_LANGUAGE (RESOURCE_KEY,LANGUAGE_ID,TEXT,MNEMONIC) VALUES ('lbl_User_Data4', 'HU', 'Product Group', 'Q')
</statement>

<statement>
	INSERT INTO SYS_LANGUAGE (RESOURCE_KEY,LANGUAGE_ID,TEXT,MNEMONIC) VALUES ('lbl_User_Data4', 'IT', 'Product Group', 'Q')
</statement>

<statement>
	INSERT INTO SYS_LANGUAGE (RESOURCE_KEY,LANGUAGE_ID,TEXT,MNEMONIC) VALUES ('lbl_User_Data4', 'DE', 'Product Group', 'Q')
</statement>

<statement>
	INSERT INTO SYS_LANGUAGE (RESOURCE_KEY,LANGUAGE_ID,TEXT,MNEMONIC) VALUES ('lbl_User_Data4', 'ES', 'Product Group', 'Q')
</statement>

<statement>
	INSERT INTO SYS_LANGUAGE (RESOURCE_KEY,LANGUAGE_ID,TEXT,MNEMONIC) VALUES ('lbl_User_Data4', 'PL', 'Product Group', 'Q')
</statement>

<statement>
	ALTER VIEW [dbo].[VIEW_QM_RESULTS] AS SELECT samp.PROCESS_ORDER as 'PROCESS_ORDER',
	       samp.MATERIAL as 'MATERIAL',
	       samp.SAMPLE_ID as 'SAMPLE_ID',
	       samp.SAMPLE_DATE as 'SAMPLE_DATE',
	       samp.USER_DATA_1 as 'USER_DATA_1',
	       samp.USER_DATA_2 as 'USER_DATA_2',
	       samp.USER_DATA_1 as 'USER_DATA_3',
	       samp.USER_DATA_2 as 'USER_DATA_4',
	       result.TEST_ID as 'TEST_ID',
	       dict.DESCRIPTION as 'TEST_DESCRIPTION',
	       result.VALUE as 'VALUE',
	       COALESCE(valist.DESCRIPTION,result.VALUE) AS 'RESULT'
	FROM APP_QM_SAMPLE samp 
	LEFT JOIN APP_QM_RESULT result ON (result.SAMPLE_ID = samp.SAMPLE_ID)
	LEFT JOIN APP_QM_DICTIONARY dict ON (dict.TEST_ID = result.TEST_ID)
	LEFT JOIN APP_QM_SELECTLIST valist ON (valist.SELECT_LIST_ID = dict.SELECT_LIST_ID AND valist.VALUE = result.VALUE)
</statement>

<statement>
	INSERT INTO APP_MATERIAL_DATA_IDS (DATA_ID,DESCRIPTION) VALUES ('CONTAINER_CODE', 'Container Code')
</statement>

<statement>
	INSERT INTO APP_MATERIAL_DATA_IDS (DATA_ID,DESCRIPTION) VALUES ('PRODUCT_GROUP', 'Product Group')
</statement>

<statement>
		INSERT INTO [dbo].[SYS_USER_REPORTS] VALUES ('USER_DATA_1', '0', 'USER_DATA_1 (SAMPLE LABEL)', 'SELECT
		dbo.[APP_MATERIAL_CUSTOMER_DATA].DATA
		FROM
		dbo.[APP_MATERIAL_CUSTOMER_DATA]
		RIGHT JOIN dbo.[APP_PROCESS_ORDER]
		ON dbo.[APP_MATERIAL_CUSTOMER_DATA].MATERIAL = dbo.[APP_PROCESS_ORDER].MATERIAL
		AND dbo.[APP_MATERIAL_CUSTOMER_DATA].[CUSTOMER_ID] = dbo.[APP_PROCESS_ORDER].[CUSTOMER_ID]
		WHERE dbo.[APP_PROCESS_ORDER].PROCESS_ORDER = ? 
		AND dbo.[APP_MATERIAL_CUSTOMER_DATA].DATA_ID = ''CONTAINER_CODE''', '', 'SYSTEM', 'Y', 'N', '', '', 'N', '', 'N', 'N', 'N', 'N', '');
</statement>

</DDL>