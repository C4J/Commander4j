<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE DDL SYSTEM "schema.dtd">
<DDL>

<statement>
		CREATE OR REPLACE VIEW view_label_data as
			SELECT
			LD.UNIQUE_ID AS UNIQUE_ID,
			LD.PRINT_DATE AS PRINT_DATE,
			LD.USER_ID AS USER_ID,
			LD.WORKSTATION_ID AS WORKSTATION_ID,
			LD.MATERIAL AS MATERIAL,
			LD.MATERIAL_TYPE AS MATERIAL_TYPE,
			LD.BATCH_NUMBER AS BATCH_NUMBER,
			LD.PROCESS_ORDER AS PROCESS_ORDER,
			LD.REQUIRED_RESOURCE AS REQUIRED_RESOURCE,
			LD.LOCATION_ID AS LOCATION_ID,
			LD.PROD_QUANTITY AS PROD_QUANTITY,
			LD.PROD_UOM AS PROD_UOM,
			LD.DATE_OF_MANUFACTURE AS DATE_OF_MANUFACTURE,
			LD.EXPIRY_DATE AS EXPIRY_DATE,
			LD.EXPIRY_MODE AS EXPIRY_MODE,
			LD.PROD_EAN AS PROD_EAN,
			LD.PROD_VARIANT AS PROD_VARIANT,
			LD.CUSTOMER_ID AS CUSTOMER_ID,
			LD.PRINT_COPIES AS PRINT_COPIES,
			LD.PRINT_QUEUE_NAME AS PRINT_QUEUE_NAME,
			LD.BASE_EAN AS BASE_EAN,
			LD.BASE_VARIANT AS BASE_VARIANT,
			LD.BASE_QUANTITY AS BASE_QUANTITY,
			LD.BASE_UOM AS BASE_UOM,
			LD.MODULE_ID AS MODULE_ID,
			LD.OVERRIDE_MANUFACTURE_DATE AS OVERRIDE_MANUFACTURE_DATE,
			LD.OVERRIDE_EXPIRY_DATE AS OVERRIDE_EXPIRY_DATE,
			LD.OVERRIDE_BATCH_PREFIX AS OVERRIDE_BATCH_PREFIX,
			LD.BATCH_PREFIX AS BATCH_PREFIX,
			LD.BATCH_SUFFIX AS BATCH_SUFFIX,
			LD.LABEL_TYPE AS LABEL_TYPE,
			LD.LINE AS LINE,
			M.DESCRIPTION AS MATERIAL_DESCRIPTION,
			C.CUSTOMER_NAME AS CUSTOMER_NAME,
			APP_MATERIAL_CUSTOMER_DATA.`DATA` AS PART_NO
			FROM
			APP_MATERIAL AS M
			RIGHT JOIN APP_LABEL_DATA AS LD
			ON M.MATERIAL = LD.MATERIAL 
			LEFT JOIN APP_CUSTOMER AS C
			ON C.CUSTOMER_ID = LD.CUSTOMER_ID 
			LEFT JOIN APP_MATERIAL_CUSTOMER_DATA
			ON APP_MATERIAL_CUSTOMER_DATA.MATERIAL = LD.MATERIAL
			AND APP_MATERIAL_CUSTOMER_DATA.CUSTOMER_ID = LD.CUSTOMER_ID
			AND APP_MATERIAL_CUSTOMER_DATA.DATA_ID = 'PART_NO'
</statement>


		
</DDL>
